/*! For license information please see 749.1d172534f5726915.esm.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[749],{57749:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>gt});var s=a(2784),n=a(47933),i=a(67594),l=a(47457),r=a(72175),o=a(31461),c=a(63955),d=a(30621);function u(e){return e instanceof Error}var h=a(82066);const m={all:["cities"],list:e=>[...m.all,"list",e],details:e=>[...m.all,"details",e]};async function x({queryKey:e}){const[,,t,a,s]=e;return(await s.get(a?`/cities?name=${a}&page=${t}&limit=${l.IV}`:`/cities?page=${t}&limit=${l.IV}`)).data}function v({page:e=1,search:t}){const{can:a}=(0,s.useContext)(i.Il),n=(0,i.h_)(l.pH.NETWORK),r=a(l.g3.NETWORK.CAN_GET_CITIES);return(0,h.useQuery)([...m.list(e),t,n],x,{enabled:r,notifyOnChangeProps:["data"]})}async function p({queryKey:e}){const[,,t,a]=e;return(await a.get(`/cities/${t}`)).data}function j({id:e}){const t=(0,i.h_)(l.pH.NETWORK);return(0,h.useQuery)([...m.details(e),t],p)}function g(){const{t:e}=(0,i.$G)(),t=(0,h.useQueryClient)(),a=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((e=>async function(e,t){const a=t;return(await a.post("/cities",e)).data}(e,a)),{onError:()=>{(0,i.hi)(e("City create failed"),{type:"error"})},onSuccess:()=>{t.invalidateQueries(m.all),(0,i.hi)(e("City created successfully"),{type:"success"})}})}function b(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((t=>async function(e,t,a){const s=a;return(await s.patch(`/cities/${e}`,t)).data}(e,t,s)),{onError:()=>{(0,i.hi)(t("City update failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(m.all),(0,i.hi)(t("City updated successfully"),{type:"success"})}})}const f=["America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fort_Wayne","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Acre","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife"],y={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};var _=a(52322);const N=["deleted_at","oms_id"];function k(){var e,t;const{can:a}=(0,s.useContext)(i.Il),{t:r}=(0,i.$G)(),h=(0,n.UO)(),m=(0,n.k6)(),{register:x,handleSubmit:v,watch:p,reset:g,formState:{errors:k}}=(0,c.cI)({resolver:(0,d.X)(l.K5)}),[C,w]=(0,s.useState)(),[A,E]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),S=a(l.g3.NETWORK.CAN_UPDATE_CITY),{data:O,isLoading:Z}=j({id:h.id}),{mutateAsync:H,isLoading:R,isError:z}=b(h.id),M=(0,s.useCallback)((()=>f.map(((e,t)=>(0,_.jsx)(i.Wx,{value:e,children:e},`timezone-${t}`)))),[]);(0,s.useEffect)((()=>{g(null==O?void 0:O.payload)}),[O,g]),(0,s.useEffect)((()=>{const e=p(((e,{name:t})=>{t&&T(!0)}));return()=>e.unsubscribe()}),[p]);return S?Z?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.Zb,{page:!0,children:(0,_.jsx)(i.Od,{parts:["title","divider","text-3","labelField-3"]})})}):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:r("Edit City")})}),headerClassName:"mb-0",children:(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsx)(i.sg,{offset:3,size:6,children:(0,_.jsxs)("form",{onSubmit:v((async e=>{const t=(0,o.Z)(e,N);try{await H(t),m.push(`/network/city/view/${h.id}`)}catch(a){w(a)}})),children:[(0,_.jsx)("div",{className:"mb-30",children:(0,_.jsx)(i.ZT,{h2:!0,children:r("City General Information")})}),(0,_.jsx)(i.NI,{className:"my-10",label:r("City Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:r("Enter city name")},x("name"),{error:null==k||null==(e=k.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:r("State"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:Object.assign({},x("state")),children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:r("Select state")}),(L=y,Object.keys(L).map((e=>(0,_.jsxs)(i.Wx,{value:e,children:[L[e]," - ",e]},e))))]})}),(0,_.jsx)(i.NI,{className:"my-10",label:r("city_timezone_title*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:Object.assign({},x("time_zone")),error:null==k||null==(t=k.time_zone)?void 0:t.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:r("Select time zone")}),M()]})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:z&&(0,_.jsx)(i.Bc,{error:u(C)?C.message:""})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t=`/network/city/view/${h.id}`,I?E(!0):m.push(t)},children:r("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",className:"text-medium",disabled:R,children:r("Save")})]})})]})})})})}),(0,_.jsx)(i.RZ,{modal:A,setModal:E,onLeave:()=>m.push("/network/city/list")})]})}):((0,i.hi)("You have no permissions to create/update a city",{type:"warning"}),(0,_.jsx)(n.l_,{to:`/network/city/view/${h.id}`}));var L}const C=({entity:e=""})=>(0,_.jsx)("div",{className:"network-no-permissions ui-flex center py-40","data-testid":"network-no-permission",children:(0,_.jsxs)("div",{className:"ui-flex column v-center center ",children:[(0,_.jsx)(i.JO,{type:"WarningTriangle",size:30,className:"mb-10"}),(0,_.jsx)(i.ZT,{h2:!0,children:"No Permissions!"}),(0,_.jsxs)(i.ZT,{size:"small",muted:!0,className:"mt-10",children:["You have no permissions to view ",e,". Please contact you administrator!"]})]})});const w=function(e,t){const[a,n]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const a=setTimeout((()=>n(e)),t||500);return()=>{clearTimeout(a)}}),[e,t]),a};function A(){var e;const{can:t}=(0,s.useContext)(i.Il),{t:a}=(0,i.$G)(),r=(0,n.k6)(),o=t(l.g3.NETWORK.CAN_CREATE_CITY),c=t(l.g3.NETWORK.CAN_GET_CITIES),d=t(l.g3.NETWORK.CAN_UPDATE_CITY),[u,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(1),p=w(u),{data:j,isLoading:g,isError:b}=v({page:m,search:p});return(0,s.useEffect)((()=>{x(1)}),[p]),c?b?((0,i.hi)(a("Error fetching entity",{entity:"cities"}),{type:"error"}),null):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:a("City List")}),o&&(0,_.jsx)(i.zx,{onClick:()=>r.push("/network/city/create"),children:a("Create New")})]}),children:[(0,_.jsx)("div",{className:"network-toolbar mb-20",children:(0,_.jsx)("div",{className:"network-toolbar-actions ui-flex start v-center",children:(0,_.jsx)(i.Vr,{value:u,placeholder:a("Search"),onChange:e=>h(e.target.value)})})}),g?(0,_.jsx)(i.Od,{parts:["table"]}):(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th",children:a("City Name")}),(0,_.jsx)(i.pj,{as:"th",children:a("Time Zone")}),(0,_.jsx)(i.pj,{as:"th",children:a("State")}),(0,_.jsx)(i.pj,{as:"th",children:a("Hubs Associated")}),(0,_.jsx)(i.pj,{as:"th",children:a("Hotels Associated")}),(0,_.jsx)(i.pj,{as:"th",style:{width:50}})]})}),(0,_.jsx)(i.RM,{children:null==j||null==(e=j.payload)?void 0:e.map((e=>(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/network/city/view/${e.id}`,children:e.name||"n/a"})}),(0,_.jsx)(i.pj,{children:e.time_zone||"n/a"}),(0,_.jsx)(i.pj,{children:e.state||"n/a"}),(0,_.jsx)(i.pj,{children:(null==e?void 0:e.hubs.length)||0}),(0,_.jsx)(i.pj,{children:e.hubs.map((e=>{var t;return null==(t=e.hotels)?void 0:t.length})).reduce(((e,t)=>(e||0)+(t||0)),0)}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.Lt,{renderTrigger:(e,t)=>(0,_.jsx)(i.Kk,{onClick:e,ref:t,children:(0,_.jsx)(i.JO,{type:"MoreHorizontal01",size:18})}),hasArrow:!0,placement:"right",children:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:160},children:[(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>r.push(`/network/city/view/${e.id}`),leftIcon:(0,_.jsx)(i.JO,{type:"EyeOpen",size:18}),children:a("View")}),d&&(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>{r.push(`/network/city/edit/${e.id}`)},leftIcon:(0,_.jsx)(i.JO,{type:"Pen01",size:18}),children:a("Edit")})]})})})]},e.id)))})]}),j&&!((j.payload||[]).length<1)||g?(0,_.jsx)(i.tl,{className:"ui-flex end mt-20",pages:(0,l.gc)(Number(null==j?void 0:j.total)),current:m,onPageChange:e=>x(e)}):(0,_.jsx)("div",{children:(0,_.jsx)(i.xM,{})})]})})})}):(0,_.jsx)(C,{entity:"Cities"})}function E({city:e}){const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=(0,n.k6)(),o=a(l.g3.NETWORK.CAN_UPDATE_CITY);return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("General Information")}),o&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>r.push(`/network/city/edit/${null==e?void 0:e.id}`),children:"Edit"})]}),children:[(null==e?void 0:e.name)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("City Name")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.name})]})}),(null==e?void 0:e.state)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("State")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.state})]})}),(null==e?void 0:e.time_zone)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Time Zone")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.time_zone})]})})]})})})}var I=a(72779),T=a.n(I);const S=()=>(0,_.jsx)("div",{className:"ui-flex center py-40",children:(0,_.jsxs)("div",{className:"ui-flex column v-center center",children:[(0,_.jsx)(i.JO,{type:"Grid02",size:24,className:"mb-10"}),(0,_.jsx)(i.ZT,{h2:!0,children:"No Results!"}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"mt-20",children:"No results found!"})]})});function O({city:e}){const{t}=(0,i.$G)(),a=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{page:!0,className:"network-content",header:(0,_.jsx)(i.ZT,{h2:!0,children:t("Assigned Hubs")}),children:[(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th"}),(0,_.jsx)(i.pj,{as:"th",children:t("Hub Name")}),(0,_.jsx)(i.pj,{as:"th",children:t("Hotels Associated")}),(0,_.jsx)(i.pj,{as:"th",children:t("Status")})]})}),(0,_.jsx)(i.RM,{children:((null==e?void 0:e.hubs)||[]).map((e=>{var s;return(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{className:"act",style:{width:"16px"},children:(0,_.jsx)(i.Kk,{onClick:()=>{a.push(`/network/hub/view/${null==e?void 0:e.id}`)},children:(0,_.jsx)(i.JO,{type:"NewWindow",size:16})})}),(0,_.jsx)(i.pj,{children:null==e?void 0:e.name}),(0,_.jsx)(i.pj,{children:null==e||null==(s=e.hotels)?void 0:s.length}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!e.active}),children:null!=e&&e.active?t("Active"):t("Inactive")})})]},e.id)}))})]}),(!(null!=e&&e.hubs)||(null==e?void 0:e.hubs.length)<1)&&(0,_.jsx)("div",{children:(0,_.jsx)(S,{})})]})})})}function Z(){var e;const{id:t}=(0,n.UO)(),{data:a,isLoading:s,isError:l}=j({id:t});return s?(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsx)("div",{className:"ml-30",children:(0,_.jsx)(i.Od,{parts:["title"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","labelField-3"]})})]}):l?((0,i.hi)("Error fetching city",{type:"error"}),null):(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsx)("div",{className:"ui-flex between v-center mb-30 pl-30",children:(0,_.jsx)(i.ZT,{h2:!0,children:null==a||null==(e=a.payload)?void 0:e.name})}),(0,_.jsx)(E,{city:a&&a.payload}),(0,_.jsx)(O,{city:a&&a.payload})]})}const H=["deleted_at","oms_id"];function R(){var e,t;const{can:a}=(0,s.useContext)(i.Il),{t:r}=(0,i.$G)(),h=(0,n.k6)(),{register:m,handleSubmit:x,watch:v,formState:{errors:p}}=(0,c.cI)({resolver:(0,d.X)(l.K5)}),[j,b]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[C,w]=(0,s.useState)(),A=a(l.g3.NETWORK.CAN_CREATE_CITY),{mutateAsync:E,isError:I,isLoading:T}=g(),S=(0,s.useCallback)((()=>f.map(((e,t)=>(0,_.jsx)(i.Wx,{value:e,children:e},`timezone-${t}`)))),[]);(0,s.useEffect)((()=>{const e=v(((e,{name:t})=>{t&&k(!0)}));return()=>e.unsubscribe()}),[v]);return A?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:r("Create New City")})}),headerClassName:"mb-0",children:(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsx)(i.sg,{offset:3,size:6,children:(0,_.jsxs)("form",{onSubmit:x((async e=>{const t=(0,o.Z)(e,H);try{await E(t),h.push("/network/city/list")}catch(a){w(a)}})),children:[(0,_.jsx)("div",{className:"mb-30",children:(0,_.jsx)(i.ZT,{h2:!0,children:r("City General Information")})}),(0,_.jsx)(i.NI,{className:"my-10",label:r("City Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:r("Enter city name")},m("name"),{error:null==p||null==(e=p.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:r("State"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:Object.assign({},m("state")),children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:r("Select state")}),(O=y,Object.keys(O).map((e=>(0,_.jsxs)(i.Wx,{value:e,children:[O[e]," - ",e]},e))))]})}),(0,_.jsx)(i.NI,{className:"my-10",label:r("city_timezone_title*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:Object.assign({},m("time_zone")),error:null==p||null==(t=p.time_zone)?void 0:t.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:r("Select time zone")}),S()]})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:I&&(0,_.jsx)(i.Bc,{error:u(C)?C.message:""})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t="/network/city/list",N?b(!0):h.push(t)},children:r("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",className:"text-medium",disabled:T,children:r("Save")})]})})]})})})})}),(0,_.jsx)(i.RZ,{modal:j,setModal:b,onLeave:()=>h.push("/network/city/list")})]})}):((0,i.hi)(r("You have no permissions to create a city"),{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/city/list"}));var O}function z(){return(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network/city/list",children:(0,_.jsx)(A,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/city/edit/:id",children:(0,_.jsx)(k,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/city/create",children:(0,_.jsx)(R,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/city/view/:id",children:(0,_.jsx)(Z,{})})]})}const M={all:["hotels"],list:e=>[...M.all,"list",e],details:e=>[...M.all,"details",e]};async function L({queryKey:e}){const[,,t,a,s]=e;return(await s.get(a?`/hotels?${a}&page=${t}&limit=${l.IV}`:`/hotels?page=${t}&limit=${l.IV}`)).data}async function W({queryKey:e}){const[,,t,a]=e;return(await a.get(`/hotels/${t}`)).data}function P({id:e}){const t=(0,i.h_)(l.pH.NETWORK);return(0,h.useQuery)([...M.details(e),t],W)}function D(){const{t:e}=(0,i.$G)(),t=(0,h.useQueryClient)(),a=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((e=>async function(e,t){const a=t;return(await a.post("/hotels",e)).data}(e,a)),{onError:()=>{(0,i.hi)(e("Hotel create failed"),{type:"error"})},onSuccess:()=>{t.invalidateQueries(M.all),(0,i.hi)(e("Hotel created successfully"),{type:"success"})}})}const G={all:["hubs"],list:e=>[...G.all,"list",e],details:e=>[...G.all,"details",e]};function U(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((t=>async function(e,t,a){const s=a;return(await s.patch(`/hotels/${e}`,t)).data}(e,t,s)),{onError:()=>{(0,i.hi)(t("Hotel update failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(M.all),a.invalidateQueries(G.all),(0,i.hi)(t("Hotel updated successfully"),{type:"success"})}})}async function F({queryKey:e}){const[,,t,a,s]=e;return(await s.get(a?`/hubs?${a}&page=${t}&limit=${l.IV}`:`/hubs?page=${t}&limit=${l.IV}`)).data}function B({page:e=1,search:t,filters:a,enabled:n=!0}){const{can:r}=(0,s.useContext)(i.Il),o=(0,i.h_)(l.pH.NETWORK),c=r(l.g3.NETWORK.CAN_GET_HUBS),d=`${t?`name=${t}`:""}&${(0,l.ik)(a)}`;return(0,h.useQuery)([...G.list(e),d,o],F,{enabled:n&&c,notifyOnChangeProps:["data"]})}async function $({queryKey:e}){const[,,t,a]=e;return(await a.get(`/hubs/${t}`)).data}function V({id:e}){const t=(0,i.h_)(l.pH.NETWORK);return(0,h.useQuery)([...G.details(e),t],$)}function X(){const{t:e}=(0,i.$G)(),t=(0,h.useQueryClient)(),a=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((e=>async function(e,t){const a=t;return(await a.post("/hubs",e)).data}(e,a)),{onError:()=>{(0,i.hi)(e("Hub create failed"),{type:"error"})},onSuccess:()=>{t.invalidateQueries(G.all),(0,i.hi)(e("Hub created successfully"),{type:"success"})}})}function K(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((t=>async function(e,t,a){const s=a;return(await s.patch(`/hubs/${e}`,t)).data}(e,t,s)),{onError:()=>{(0,i.hi)(t("Hub update failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(G.all),a.invalidateQueries(M.all),(0,i.hi)(t("Hub updated successfully"),{type:"success"})}})}function Q(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((()=>async function(e,t){const a=t;return(await a.delete(`/hubs/${e}`)).data}(e,s)),{onError:()=>{(0,i.hi)(t("Hub delete failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(G.list()),(0,i.hi)(t("Hub deleted successfully"),{type:"success"})}})}function J(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((t=>async function(e,t,a){const s=a;return(await s.patch(`/hubs/status/${e}`,t)).data}(e,t,s)),{onError:()=>{(0,i.hi)(t("Hub status update failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(G.all),(0,i.hi)(t("Hub status updated successfully"),{type:"success"})}})}function Y(e){const{address_town:t,address_street:a,address_number:s,address_zip_code:n}=e;return(0,_.jsx)("div",{children:(0,_.jsxs)(i.ZT,{children:[t,", ",a,","," ",s&&`${s}, `," ",n]})})}function q(){var e;const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=(0,n.k6)(),o=a(l.g3.NETWORK.CAN_CREATE_HOTEL),c=a(l.g3.NETWORK.CAN_GET_HOTELS),d=a(l.g3.NETWORK.CAN_UPDATE_HOTEL),[u,m]=(0,s.useState)(""),[x,v]=(0,s.useState)(1),[p,j]=(0,s.useState)(r.location.search),g=w(u),{data:b,isLoading:f,isError:y}=function({page:e=1,search:t,filters:a}){const{can:n}=(0,s.useContext)(i.Il),r=(0,i.h_)(l.pH.NETWORK),o=n(l.g3.NETWORK.CAN_GET_HOTELS),c=`${t?`name=${t}`:""}&${(0,l.ik)(a)}`;return(0,h.useQuery)([...M.list(e),c,r],L,{enabled:o,notifyOnChangeProps:["data"]})}({page:x,search:g,filters:p}),{data:N}=B({enabled:!0}),k=[{name:"Hub",queryParamName:"hub_ids",data:async()=>{var e;const t=[];return null==N||null==(e=N.payload)||e.forEach((e=>{t.push({label:e.name,queryParamValue:`${e.id||""}`})})),t}},{name:"Status",queryParamName:"statuses",data:[{label:"Active",queryParamValue:"true"},{label:"Inactive",queryParamValue:"false"}]}];(0,s.useEffect)((()=>{v(1)}),[g]);return c?y?((0,i.hi)(t("Error fetching entity",{entity:"hotels"}),{type:"error"}),null):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Hotel List")}),o&&(0,_.jsx)(i.zx,{onClick:()=>r.push("/network/hotel/create"),children:t("Create New")})]}),children:[(0,_.jsx)("div",{className:"network-toolbar mb-20",children:(0,_.jsxs)("div",{className:"network-toolbar-actions ui-flex start v-center",children:[(0,_.jsx)(i.x$,{columns:k,onChange:e=>{v(1),j(e),r.push(`?${e}`)},filtersString:p}),(0,_.jsx)("div",{className:"ml-5",children:(0,_.jsx)(i.Vr,{value:u,placeholder:t("Search"),onChange:e=>{m(e.target.value)}})})]})}),f?(0,_.jsx)(i.Od,{parts:["table"]}):(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th",children:t("Hotel Name")}),(0,_.jsx)(i.pj,{as:"th",children:t("Contact Number")}),(0,_.jsx)(i.pj,{as:"th",children:t("Contact Person")}),(0,_.jsx)(i.pj,{as:"th",children:t("Address")}),(0,_.jsx)(i.pj,{as:"th",children:t("Hub")}),(0,_.jsx)(i.pj,{as:"th",children:t("Status")}),(0,_.jsx)(i.pj,{as:"th",style:{width:50}})]})}),(0,_.jsx)(i.RM,{children:null==b||null==(e=b.payload)?void 0:e.map((e=>{var a;return(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/network/hotel/view/${e.id}`,children:e.name||"n/a"})}),(0,_.jsx)(i.pj,{children:e.web_phone||"n/a"}),(0,_.jsx)(i.pj,{children:e.contact_person||"n/a"}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(Y,{address_town:null==e?void 0:e.address_town,address_street:null==e?void 0:e.address_street,address_number:null==e?void 0:e.address_number,address_zip_code:null==e?void 0:e.address_zip_code})}),(0,_.jsx)(i.pj,{children:(null==e||null==(a=e.hub)?void 0:a.name)||"n/a"}),(0,_.jsx)(i.pj,{children:(0,_.jsxs)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!e.active}),children:[null!=e&&e.active?"Active":"Inactive"," "]})}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.Lt,{renderTrigger:(e,t)=>(0,_.jsx)(i.Kk,{onClick:e,ref:t,children:(0,_.jsx)(i.JO,{type:"MoreHorizontal01",size:18})}),hasArrow:!0,placement:"right",children:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:160},children:[(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>r.push(`/network/hotel/view/${e.id}`),leftIcon:(0,_.jsx)(i.JO,{type:"EyeOpen",size:18}),children:t("View")}),d&&(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>{r.push(`/network/hotel/edit/general-information/${e.id}`)},leftIcon:(0,_.jsx)(i.JO,{type:"Pen01",size:18}),children:t("Edit")})]})})})]},e.id)}))})]}),b&&!((b.payload||[]).length<1)||f?(0,_.jsx)(i.tl,{className:"ui-flex end mt-20",pages:(0,l.gc)(Number(null==b?void 0:b.total)),current:x,onPageChange:e=>v(e)}):(0,_.jsx)("div",{children:(0,_.jsx)(i.xM,{})})]})})})}):(0,_.jsx)(C,{entity:"Hotels"})}const ee={all:["network-users"],list:e=>[...ee.all,"list",e],details:e=>[...ee.all,"details",e]};async function te({queryKey:e}){const[,,t,a,s]=e;return(await s.get(a?`/users?${a}&page=${t}&limit=${l.IV}`:`/users?page=${t}&limit=${l.IV}`)).data}function ae({page:e=1,search:t,filters:a}){const s=(0,i.h_)(l.pH.NETWORK),n=`${t?`name=${t}`:""}&${(0,l.ik)(a)}`;return(0,h.useQuery)([...ee.list(e),n,s],te,{notifyOnChangeProps:["data"]})}function se({hotel:e}){var t,a,r,o,c,d,u,h,m,x;const{t:v}=(0,i.$G)(),{can:p}=(0,s.useContext)(i.Il),j=(0,n.k6)(),g=p(l.g3.NETWORK.CAN_UPDATE_HOTEL),{data:b}=ae({});return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:v("General Information")}),g&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>j.push(`/network/hotel/edit/general-information/${null==e?void 0:e.id}`),children:v("Edit")})]}),children:[(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(null==e?void 0:e.name)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hotel Name")}),(0,_.jsx)(i.ZT,{className:"pb-10",children:null==e?void 0:e.name})]})}),(null==e?void 0:e.formal_name)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hotel Formal Name")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.formal_name})]})})]})}),((null==e?void 0:e.address_town)||(null==e?void 0:e.address_number)||(null==e?void 0:e.address_street)||(null==e?void 0:e.address_zip_code))&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Address")}),(0,_.jsx)(Y,Object.assign({},e))]})}),(null==e?void 0:e.room_count)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Room Number Count")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.room_count})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("PMS")}),(0,_.jsx)(i.ZT,{children:null!=e&&e.has_pms_enabled?v("Enabled"):v("Disabled")})]})}),(null==e?void 0:e.code)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hotel Code")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.code})]})}),(null==e?void 0:e.web_code)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hotel Web Code")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.web_code})]})}),(null==e||null==(t=e.hub)?void 0:t.name)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hub")}),(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/network/hub/view/${e.hub.id}`,children:(null==e||null==(a=e.hub)?void 0:a.name)||"n/a"})]})}),(0,_.jsx)(i.iz,{}),(0,_.jsx)(i.ZT,{h2:!0,children:v("Contact Information")}),(null==e?void 0:e.account_manager_id)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Customer Success Manager")}),(()=>{const t=((null==b?void 0:b.payload)||[]).find((t=>t.id===(null==e?void 0:e.account_manager_id)));return t?(0,_.jsx)(i.ZT,{value:null==t?void 0:t.id,children:null==t?void 0:t.name},t.id):null})()]})}),(null==e?void 0:e.contact_person)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Contact Person")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.contact_person})]})}),(null==e?void 0:e.web_phone)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Hotel Contact Number")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.web_phone})]})}),(null==e?void 0:e.contact_email)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Invoice Email Address(es)")}),(0,_.jsx)("div",{children:(e=>{if(!e)return null;return e.split(",").map((e=>(0,_.jsx)(i.Af,{className:"mr-5 mb-5",children:e},e)))})(null==e?void 0:e.contact_email)})]})}),(null==e?void 0:e.web_url_id)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Web URL ID")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.web_url_id})]})}),(null==e?void 0:e.delivery_instructions)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("Delivery Instructions")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.delivery_instructions})]})}),((null==e||null==(r=e.address_coordinates)?void 0:r.x)||(null==e||null==(o=e.address_coordinates)?void 0:o.latitude)||(null==e||null==(c=e.address_coordinates)?void 0:c.longitude)||(null==e||null==(d=e.address_coordinates)?void 0:d.y))&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:v("GPS Coordinates")}),(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsxs)("div",{className:"ui-flex v-center",children:[(0,_.jsx)(i.ZT,{p:!0,className:"text-medium",children:v("Latitude")}),(0,_.jsx)(i.ZT,{className:"ml-5 text-medium",p:!0,children:(null==e||null==(u=e.address_coordinates)?void 0:u.x)||(null==e||null==(h=e.address_coordinates)?void 0:h.latitude)||"n/a"})]}),(0,_.jsxs)("div",{className:"ui-flex v-center",children:[(0,_.jsx)(i.ZT,{p:!0,className:"text-medium",children:v("Longitude")}),(0,_.jsx)(i.ZT,{className:"ml-5 text-medium",p:!0,children:(null==e||null==(m=e.address_coordinates)?void 0:m.y)||(null==e||null==(x=e.address_coordinates)?void 0:x.longitude)||"n/a"})]})]})]})})]})})})}function ne({hotel:e}){const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=a(l.g3.NETWORK.CAN_UPDATE_HOTEL_INTEGRATION_CONFIGS_CAR_SERVICE),o=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Car Service")}),r&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>o.push(`/network/hotel/edit/shuttle-app/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Car Service is")})," ",(0,_.jsxs)(i.ZT,{children:[null!=e&&e.has_car_service_enabled?t("Enabled"):t("Disabled")," "]})]})})})})})}function ie({hotel:e}){const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=(0,n.k6)(),o=a(l.g3.NETWORK.CAN_UPDATE_HOTEL_INTEGRATION_CONFIGS_ACTIVITIES);return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Activities")}),(null==e?void 0:e.id)&&o&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>r.push(`/network/hotel/edit/activities/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Activities are")})," ",(0,_.jsxs)(i.ZT,{children:[null!=e&&e.has_activities_enabled?t("Enabled"):t("Disabled")," "]})]})})})})})}function le({reloadData:e,meta:t,onClose:a}){const{t:n}=(0,i.$G)(),r=(0,i.h_)(l.pH.NETWORK),[o,c]=(0,s.useState)(!1);return(0,_.jsxs)(i.u_,{visible:!0,onClose:a,style:{minWidth:360},children:[(0,_.jsx)("h3",{children:n("Delete Hotel")}),(0,_.jsx)(i.iz,{}),(0,_.jsx)("span",{children:n("Are you sure you want to delete this Hotel?")}),(0,_.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:30},children:[(0,_.jsx)(i.zx,{size:"large",variant:"ghost",onClick:a,children:n("Cancel")}),(0,_.jsx)(i.zx,{disabled:o,size:"large",variant:"danger",style:{marginLeft:20},onClick:async()=>{c(!0);return(await r.delete(`/hotels/${t.id}`)).data.payload?(e(t.id),a()):null},children:n("Delete")})]})]})}function re({hotel:e,onChange:t}){const{can:a}=(0,s.useContext)(i.Il),{t:r}=(0,i.$G)(),o=(0,n.k6)(),c=(0,i.h_)(l.pH.NETWORK),d=a(l.g3.NETWORK.CAN_DELETE_HOTEL),u=a(l.g3.NETWORK.CAN_CHANGE_HOTEL_STATUS),[h,m]=(0,s.useState)(),x=null==e?void 0:e.active,v=!(!d&&!u);return(0,_.jsxs)("div",{children:[v&&(0,_.jsx)(i.Lt,{renderTrigger:(e,t,a)=>(0,_.jsx)(i.Kk,{ref:t,onClick:e,children:(0,_.jsx)(i.JO,{type:"ThreeDots",size:40,"data-testid":"hotel-view-action-btn"})}),hasArrow:!0,placement:"right",children:(0,_.jsxs)("div",{className:"ui-flex column network-action-dropdown",children:[u&&(0,_.jsxs)(i.zx,{className:"w-100",variant:x?"danger-ghost":"ghost",muted:!0,onClick:async()=>{const a=await c.patch(`/hotels/status/${null==e?void 0:e.id}`,{status:!x});a.data.payload&&(null==t||t(a.data.payload),(0,i.hi)("Hotel status updated successfully",{type:"success"}))},children:[(0,_.jsx)(i.JO,{type:x?"Close":"Checkmark",size:20,className:"mr-10"}),r(x?"Deactivate Hotel":"Activate Hotel")]}),d&&(0,_.jsxs)(i.zx,{className:"w-100",variant:"danger-ghost",muted:!0,onClick:async()=>{null!=e&&e.id&&m({resource:"hotels",id:`${null==e?void 0:e.id}`})},children:[(0,_.jsx)(i.JO,{type:"Delete",size:20,className:"mr-10"}),"Delete"]})]})}),h&&(0,_.jsx)(le,{reloadData:()=>o.push("/network/hotel/list"),meta:h,onClose:()=>m(void 0)})]})}function oe({hotel:e}){const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=(0,n.k6)(),o=a(l.g3.NETWORK.CAN_UPDATE_HOTEL_PAYMENTS);return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Payments")}),o&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>r.push(`/network/hotel/edit/payment-settings/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:[(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Credit Cards")})," ",(0,_.jsx)(i.ZT,{"data-testid":"payment-allow-credit-card",children:null!=e&&e.allow_payment_credit_card?t("Yes"):t("No")})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Room Charge")})," ",(0,_.jsx)(i.ZT,{"data-testid":"payment-allow-room-charge",children:null!=e&&e.allow_payment_room_charge?t("Yes"):t("No")})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Tax Exempt")}),(0,_.jsx)(i.ZT,{"data-testid":"payment-allow-room-charge",children:null!=e&&e.is_tax_exempt?t("Yes"):t("No")})]})})]})})})}function ce({hotel:e}){const{t}=(0,i.$G)(),a=(0,n.k6)(),{can:r}=(0,s.useContext)(i.Il),o=r(l.g3.NETWORK.CAN_UPDATE_HOTEL_INTEGRATION_CONFIGS_VOUCHERS);return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Vouchers")}),o&&(null==e?void 0:e.id)&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>a.push(`/network/hotel/edit/vouchers/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Vouchers")})," ",(0,_.jsxs)(i.ZT,{children:[null!=e&&e.has_vouchers_enabled?t("Enabled"):t("Disabled")," "]})]})})})})})}const de=function({hotel:e}){const{t}=(0,i.$G)(),{can:a}=(0,s.useContext)(i.Il),r=(0,n.k6)(),o=a(l.g3.NETWORK.CAN_UPDATE_HOTEL_MENU);return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Menu")}),o&&(0,_.jsx)(i.rU,{component:"button",onClick:()=>r.push(`/network/hotel/edit/menu/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:[(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Make Hotel Visible to Guest View")}),(0,_.jsx)(i.ZT,{"data-testid":"menu-app-enabled",children:null!=e&&e.web_active?t("Yes"):t("No")})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Web Phone")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.web_phone})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Scheduled Orders")}),(0,_.jsx)(i.ZT,{"data-testid":"scheduled-orders-enabled",children:null!=e&&e.allow_scheduled_orders?t("Yes"):t("No")})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Delivery Notes")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.delivery_instructions})]})})]})})})};function ue(){var e,t,a;const{t:s}=(0,i.$G)(),{id:l}=(0,n.UO)(),{data:r,isLoading:o,isError:c,refetch:d}=P({id:l});return o?(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsx)(i.Od,{className:"ml-10",parts:["header"]}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2","labelField-7","divider","text-2","labelField-5"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2","labelField-2"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2","labelField"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2","labelField"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2","labelField"]})})]}):c?((0,i.hi)(s("Error fetching",{entity:"hotel"}),{type:"error"}),null):(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsxs)("div",{className:"ui-flex between v-center mb-30 pl-30",children:[(0,_.jsxs)("div",{className:"ui-flex",children:[(0,_.jsx)(i.ZT,{h2:!0,children:null==r||null==(e=r.payload)?void 0:e.name}),(0,_.jsx)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!(null!=r&&null!=(t=r.payload)&&t.active)},"ml-30"),children:null!=r&&null!=(a=r.payload)&&a.active?s("Active"):s("Inactive")})]}),(0,_.jsx)(re,{hotel:r&&r.payload,onChange:d})]}),(0,_.jsx)(se,{hotel:r&&r.payload}),(0,_.jsx)(oe,{hotel:r&&r.payload}),(0,_.jsx)(de,{hotel:r&&r.payload}),(0,_.jsx)(ce,{hotel:r&&r.payload}),(0,_.jsx)(ne,{hotel:r&&r.payload}),(0,_.jsx)(ie,{hotel:r&&r.payload})]})}var he=a(50980);const me=["initialValue","onBlur","error","onChange","rounded"],xe=[{flag:"\ud83c\udde6\ud83c\uddeb",key:"AF",content:"Afghanistan",value:"AF-+93"},{flag:"\ud83c\udde6\ud83c\uddf1",key:"AL",content:"Albania",value:"AL-+355"},{flag:"\ud83c\udde9\ud83c\uddff",key:"DZ",content:"Algeria",value:"DZ-+213"},{flag:"\ud83c\udde6\ud83c\uddf8",key:"AS",content:"American Samoa",value:"AS-+1"},{flag:"\ud83c\udde6\ud83c\udde9",key:"AD",content:"Andorra",value:"AD-+376"},{flag:"\ud83c\udde6\ud83c\uddf4",key:"AO",content:"Angola",value:"AO-+244"},{flag:"\ud83c\udde6\ud83c\uddec",key:"AG",content:"Antigua",value:"AG-+1"},{flag:"\ud83c\udde6\ud83c\uddf7",key:"AR",content:"Argentina",value:"AR-+54"},{flag:"\ud83c\udde6\ud83c\uddf2",key:"AM",content:"Armenia",value:"AM-+374"},{flag:"\ud83c\udde6\ud83c\uddfc",key:"AW",content:"Aruba",value:"AW-+297"},{flag:"\ud83c\udde6\ud83c\uddfa",key:"AU",content:"Australia",value:"AU-+61"},{flag:"\ud83c\udde6\ud83c\uddee",key:"AI",content:"Austria",value:"AI-+43"},{flag:"\ud83c\udde6\ud83c\uddff",key:"AZ",content:"Azerbaijan",value:"AZ-+994"},{flag:"\ud83c\udde7\ud83c\udded",key:"BH",content:"Bahrain",value:"BH-+973"},{flag:"\ud83c\udde7\ud83c\udde9",key:"BD",content:"Bangladesh",value:"BD-+880"},{flag:"\ud83c\udde7\ud83c\udde7",key:"BB",content:"Barbados",value:"BB-+1"},{flag:"\ud83c\udde7\ud83c\uddfe",key:"BY",content:"Belarus",value:"BY-+375"},{flag:"\ud83c\udde7\ud83c\uddea",key:"BE",content:"Belgium",value:"BE-+32"},{flag:"\ud83c\udde7\ud83c\uddff",key:"BZ",content:"Belize",value:"BZ-+501"},{flag:"\ud83c\udde7\ud83c\uddef",key:"BJ",content:"Benin",value:"BJ-+229"},{flag:"\ud83c\udde7\ud83c\uddf2",key:"BM",content:"Bermuda",value:"BM-+1"},{flag:"\ud83c\udde7\ud83c\uddf9",key:"BT",content:"Bhutan",value:"BT-+975"},{flag:"\ud83c\udde7\ud83c\uddf4",key:"BO",content:"Bolivia",value:"BO-+591"},{flag:"\ud83c\udde7\ud83c\udde6",key:"BA",content:"Bosnia and Herzegovina",value:"BA-+387"},{flag:"\ud83c\udde7\ud83c\uddfc",key:"BW",content:"Botswana",value:"BW-+267"},{flag:"\ud83c\udde7\ud83c\uddf7",key:"BR",content:"Brazil",value:"BR-+55"},{flag:"\ud83c\uddee\ud83c\uddf4",key:"IO",content:"British Indian Ocean Territory",value:"IO-+246"},{flag:"\ud83c\uddfb\ud83c\uddec",key:"VG",content:"British Virgin Islands",value:"VG-+1"},{flag:"\ud83c\udde7\ud83c\uddf3",key:"BN",content:"Brunei",value:"BN-+673"},{flag:"\ud83c\udde7\ud83c\uddec",key:"BG",content:"Bulgaria",value:"BG-+359"},{flag:"\ud83c\udde7\ud83c\uddeb",key:"BF",content:"Burkina Faso",value:"BF-+226"},{flag:"\ud83c\uddf2\ud83c\uddf2",key:"MM",content:"Burma Myanmar",value:"MM-+95"},{flag:"\ud83c\udde7\ud83c\uddee",key:"BI",content:"Burundi",value:"BI-+257"},{flag:"\ud83c\uddf0\ud83c\udded",key:"KH",content:"Cambodia",value:"KH-+855"},{flag:"\ud83c\udde8\ud83c\uddf2",key:"CM",content:"Cameroon",value:"CM-+237"},{flag:"\ud83c\udde8\ud83c\udde6",key:"CA",content:"Canada",value:"CA-+1"},{flag:"\ud83c\udde8\ud83c\uddfb",key:"CV",content:"Cape Verde",value:"CV-+238"},{flag:"\ud83c\uddf0\ud83c\uddfe",key:"KY",content:"Cayman Islands",value:"KY-+1"},{flag:"\ud83c\udde8\ud83c\uddeb",key:"CF",content:"Central African Republic",value:"CF-+236"},{flag:"\ud83c\udde8\ud83c\uddf1",key:"CL",content:"Chile",value:"CL-+56"},{flag:"\ud83c\udde8\ud83c\uddf3",key:"CN",content:"China",value:"CN-+86"},{flag:"\ud83c\udde8\ud83c\uddf4",key:"CO",content:"Colombia",value:"CO-+57"},{flag:"\ud83c\uddf0\ud83c\uddf2",key:"KM",content:"Comoros",value:"KM-+269"},{flag:"\ud83c\udde8\ud83c\uddf0",key:"CK",content:"Cook Islands",value:"CK-+682"},{flag:"\ud83c\udde8\ud83c\uddf7",key:"CR",content:"Costa Rica",value:"CR-+506"},{flag:"\ud83c\udded\ud83c\uddf7",key:"HR",content:"Croatia",value:"HR-+385"},{flag:"\ud83c\udde8\ud83c\uddfa",key:"CU",content:"Cuba",value:"CU-+53"},{flag:"\ud83c\udde8\ud83c\uddfe",key:"CY",content:"Cyprus",value:"CY-+357"},{flag:"\ud83c\udde8\ud83c\uddff",key:"CZ",content:"Czech Republic",value:"CZ-+420"},{flag:"\ud83c\udde8\ud83c\uddee",key:"CI",content:"C\xf4te dIvoire",value:"CI-+225"},{flag:"\ud83c\udde8\ud83c\udde9",key:"CD",content:"Democratic Republic of Congo",value:"CD-+243"},{flag:"\ud83c\udde9\ud83c\uddf0",key:"DK",content:"Denmark",value:"DK-+45"},{flag:"\ud83c\udde9\ud83c\uddef",key:"DJ",content:"Djibouti",value:"DJ-+253"},{flag:"\ud83c\udde9\ud83c\uddf2",key:"DM",content:"Dominica",value:"DM-+1"},{flag:"\ud83c\udde9\ud83c\uddf4",key:"DO",content:"Dominican Republic",value:"DO-+1"},{flag:"\ud83c\uddea\ud83c\udde8",key:"EC",content:"Ecuador",value:"EC-+593"},{flag:"\ud83c\uddea\ud83c\uddec",key:"EG",content:"Egypt",value:"EG-+20"},{flag:"\ud83c\uddf8\ud83c\uddfb",key:"SV",content:"El Salvador",value:"SV-+503"},{flag:"\ud83c\uddec\ud83c\uddf6",key:"GQ",content:"Equatorial Guinea",value:"GQ-+240"},{flag:"\ud83c\uddea\ud83c\uddf7",key:"ER",content:"Eritrea",value:"ER-+291"},{flag:"\ud83c\uddea\ud83c\uddea",key:"EE",content:"Estonia",value:"EE-+372"},{flag:"\ud83c\uddea\ud83c\uddf9",key:"ET",content:"Ethiopia",value:"ET-+251"},{flag:"\ud83c\uddeb\ud83c\uddf0",key:"FK",content:"Falkland Islands",value:"FK-+500"},{flag:"\ud83c\uddeb\ud83c\uddf4",key:"FO",content:"Faroe Islands",value:"FO-+298"},{flag:"\ud83c\uddeb\ud83c\uddf2",key:"FM",content:"Federated States of Micronesia",value:"FM-+691"},{flag:"\ud83c\uddeb\ud83c\uddef",key:"FJ",content:"Fiji",value:"FJ-+679"},{flag:"\ud83c\uddeb\ud83c\uddee",key:"FI",content:"Finland",value:"FI-+358"},{flag:"\ud83c\uddeb\ud83c\uddf7",key:"FR",content:"France",value:"FR-+33"},{flag:"\ud83c\uddec\ud83c\uddeb",key:"GF",content:"French Guiana",value:"GF-+594"},{flag:"\ud83c\uddf5\ud83c\uddeb",key:"PF",content:"French Polynesia",value:"PF-+689"},{flag:"\ud83c\uddec\ud83c\udde6",key:"GA",content:"Gabon",value:"GA-+241"},{flag:"\ud83c\uddec\ud83c\uddea",key:"GE",content:"Georgia",value:"GE-+995"},{flag:"\ud83c\udde9\ud83c\uddea",key:"DE",content:"Germany",value:"DE-+49"},{flag:"\ud83c\uddec\ud83c\udded",key:"GH",content:"Ghana",value:"GH-+233"},{flag:"\ud83c\uddec\ud83c\uddee",key:"GI",content:"Gibraltar",value:"GI-+350"},{flag:"\ud83c\uddec\ud83c\uddf7",key:"GR",content:"Greece",value:"GR-+30"},{flag:"\ud83c\uddec\ud83c\uddf1",key:"GL",content:"Greenland",value:"GL-+299"},{flag:"\ud83c\uddec\ud83c\udde9",key:"GD",content:"Grenada",value:"GD-+1"},{flag:"\ud83c\uddec\ud83c\uddf5",key:"GP",content:"Guadeloupe",value:"GP-+590"},{flag:"\ud83c\uddec\ud83c\uddfa",key:"GU",content:"Guam",value:"GU-+1"},{flag:"\ud83c\uddec\ud83c\uddf9",key:"GT",content:"Guatemala",value:"GT-+502"},{flag:"\ud83c\uddec\ud83c\uddf3",key:"GN",content:"Guinea",value:"GN-+224"},{flag:"\ud83c\uddec\ud83c\uddfc",key:"GW",content:"Guinea-Bissau",value:"GW-+245"},{flag:"\ud83c\uddec\ud83c\uddfe",key:"GY",content:"Guyana",value:"GY-+592"},{flag:"\ud83c\udded\ud83c\uddf9",key:"HT",content:"Haiti",value:"HT-+509"},{flag:"\ud83c\udded\ud83c\uddf3",key:"HN",content:"Honduras",value:"HN-+504"},{flag:"\ud83c\udded\ud83c\uddf0",key:"HK",content:"Hong Kong",value:"HK-+852"},{flag:"\ud83c\udded\ud83c\uddfa",key:"HU",content:"Hungary",value:"HU-+36"},{flag:"\ud83c\uddee\ud83c\uddf8",key:"IS",content:"Iceland",value:"IS-+354"},{flag:"\ud83c\uddee\ud83c\uddf3",key:"IN",content:"India",value:"IN-+91"},{flag:"\ud83c\uddee\ud83c\udde9",key:"ID",content:"Indonesia",value:"ID-+62"},{flag:"\ud83c\uddee\ud83c\uddf7",key:"IR",content:"Iran",value:"IR-+98"},{flag:"\ud83c\uddee\ud83c\uddf6",key:"IQ",content:"Iraq",value:"IQ-+964"},{flag:"\ud83c\uddee\ud83c\uddea",key:"IE",content:"Ireland",value:"IE-+353"},{flag:"\ud83c\uddee\ud83c\uddf1",key:"IL",content:"Israel",value:"IL-+972"},{flag:"\ud83c\uddee\ud83c\uddf9",key:"IT",content:"Italy",value:"IT-+39"},{flag:"\ud83c\uddef\ud83c\uddf2",key:"JM",content:"Jamaica",value:"JM-+1"},{flag:"\ud83c\uddef\ud83c\uddf5",key:"JP",content:"Japan",value:"JP-+81"},{flag:"\ud83c\uddef\ud83c\uddf4",key:"JO",content:"Jordan",value:"JO-+962"},{flag:"\ud83c\uddf0\ud83c\uddff",key:"KZ",content:"Kazakhstan",value:"KZ-+7"},{flag:"\ud83c\uddf0\ud83c\uddea",key:"KE",content:"Kenya",value:"KE-+254"},{flag:"\ud83c\uddf0\ud83c\uddee",key:"KI",content:"Kiribati",value:"KI-+686"},{flag:"\ud83c\uddfd\ud83c\uddf0",key:"XK",content:"Kosovo",value:"XK-+383"},{flag:"\ud83c\uddf0\ud83c\uddfc",key:"KW",content:"Kuwait",value:"KW-+965"},{flag:"\ud83c\uddf0\ud83c\uddec",key:"KG",content:"Kyrgyzstan",value:"KG-+996"},{flag:"\ud83c\uddf1\ud83c\udde6",key:"LA",content:"Laos",value:"LA-+856"},{flag:"\ud83c\uddf1\ud83c\uddfb",key:"LV",content:"Latvia",value:"LV-+371"},{flag:"\ud83c\uddf1\ud83c\udde7",key:"LB",content:"Lebanon",value:"LB-+961"},{flag:"\ud83c\uddf1\ud83c\uddf8",key:"LS",content:"Lesotho",value:"LS-+266"},{flag:"\ud83c\uddf1\ud83c\uddf7",key:"LR",content:"Liberia",value:"LR-+231"},{flag:"\ud83c\uddf1\ud83c\uddfe",key:"LY",content:"Libya",value:"LY-+218"},{flag:"\ud83c\uddf1\ud83c\uddee",key:"LI",content:"Liechtenstein",value:"LI-+423"},{flag:"\ud83c\uddf1\ud83c\uddf9",key:"LT",content:"Lithuania",value:"LT-+370"},{flag:"\ud83c\uddf1\ud83c\uddfa",key:"LU",content:"Luxembourg",value:"LU-+352"},{flag:"\ud83c\uddf2\ud83c\uddf4",key:"MO",content:"Macau",value:"MO-+853"},{flag:"\ud83c\uddf2\ud83c\uddf0",key:"MK",content:"Macedonia",value:"MK-+389"},{flag:"\ud83c\uddf2\ud83c\uddec",key:"MG",content:"Madagascar",value:"MG-+261"},{flag:"\ud83c\uddf2\ud83c\uddfc",key:"MW",content:"Malawi",value:"MW-+265"},{flag:"\ud83c\uddf2\ud83c\uddfe",key:"MY",content:"Malaysia",value:"MY-+60"},{flag:"\ud83c\uddf2\ud83c\uddfb",key:"MV",content:"Maldives",value:"MV-+960"},{flag:"\ud83c\uddf2\ud83c\uddf1",key:"ML",content:"Mali",value:"ML-+223"},{flag:"\ud83c\uddf2\ud83c\uddf9",key:"MT",content:"Malta",value:"MT-+356"},{flag:"\ud83c\uddf2\ud83c\udded",key:"MH",content:"Marshall Islands",value:"MH-+692"},{flag:"\ud83c\uddf2\ud83c\uddf6",key:"MQ",content:"Martinique",value:"MQ-+596"},{flag:"\ud83c\uddf2\ud83c\uddf7",key:"MR",content:"Mauritania",value:"MR-+222"},{flag:"\ud83c\uddf2\ud83c\uddfa",key:"MU",content:"Mauritius",value:"MU-+230"},{flag:"\ud83c\uddfe\ud83c\uddf9",key:"YT",content:"Mayotte",value:"YT-+262"},{flag:"\ud83c\uddf2\ud83c\uddfd",key:"MX",content:"Mexico",value:"MX-+52"},{flag:"\ud83c\uddf2\ud83c\udde9",key:"MD",content:"Moldova",value:"MD-+373"},{flag:"\ud83c\uddf2\ud83c\udde8",key:"MC",content:"Monaco",value:"MC-+377"},{flag:"\ud83c\uddf2\ud83c\uddf3",key:"MN",content:"Mongolia",value:"MN-+976"},{flag:"\ud83c\uddf2\ud83c\uddea",key:"ME",content:"Montenegro",value:"ME-+382"},{flag:"\ud83c\uddf2\ud83c\uddf8",key:"MS",content:"Montserrat",value:"MS-+1"},{flag:"\ud83c\uddf2\ud83c\udde6",key:"MA",content:"Morocco",value:"MA-+212"},{flag:"\ud83c\uddf2\ud83c\uddff",key:"MZ",content:"Mozambique",value:"MZ-+258"},{flag:"\ud83c\uddf3\ud83c\udde6",key:"NA",content:"Namibia",value:"NA-+264"},{flag:"\ud83c\uddf3\ud83c\uddf7",key:"NR",content:"Nauru",value:"NR-+674"},{flag:"\ud83c\uddf3\ud83c\uddf5",key:"NP",content:"Nepal",value:"NP-+977"},{flag:"\ud83c\uddf3\ud83c\uddf1",key:"NL",content:"Netherlands",value:"NL-+31"},{flag:"\ud83c\uddf3\ud83c\udde8",key:"NC",content:"New Caledonia",value:"NC-+687"},{flag:"\ud83c\uddf3\ud83c\uddff",key:"NZ",content:"New Zealand",value:"NZ-+64"},{flag:"\ud83c\uddf3\ud83c\uddee",key:"NI",content:"Nicaragua",value:"NI-+505"},{flag:"\ud83c\uddf3\ud83c\uddea",key:"NE",content:"Niger",value:"NE-+227"},{flag:"\ud83c\uddf3\ud83c\uddec",key:"NG",content:"Nigeria",value:"NG-+234"},{flag:"\ud83c\uddf3\ud83c\uddfa",key:"NU",content:"Niue",value:"NU-+683"},{flag:"\ud83c\uddf3\ud83c\uddeb",key:"NF",content:"Norfolk Island",value:"NF-+672"},{flag:"\ud83c\uddf0\ud83c\uddf5",key:"KP",content:"North Korea",value:"KP-+850"},{flag:"\ud83c\uddf2\ud83c\uddf5",key:"MP",content:"Northern Mariana Islands",value:"MP-+1"},{flag:"\ud83c\uddf3\ud83c\uddf4",key:"NO",content:"Norway",value:"NO-+47"},{flag:"\ud83c\uddf4\ud83c\uddf2",key:"OM",content:"Oman",value:"OM-+968"},{flag:"\ud83c\uddf5\ud83c\uddf0",key:"PK",content:"Pakistan",value:"PK-+92"},{flag:"\ud83c\uddf5\ud83c\uddfc",key:"PW",content:"Palau",value:"PW-+680"},{flag:"\ud83c\uddf5\ud83c\uddf8",key:"PS",content:"Palestine",value:"PS-+970"},{flag:"\ud83c\uddf5\ud83c\udde6",key:"PA",content:"Panama",value:"PA-+507"},{flag:"\ud83c\uddf5\ud83c\uddec",key:"PG",content:"Papua New Guinea",value:"PG-+675"},{flag:"\ud83c\uddf5\ud83c\uddfe",key:"PY",content:"Paraguay",value:"PY-+595"},{flag:"\ud83c\uddf5\ud83c\uddea",key:"PE",content:"Peru",value:"PE-+51"},{flag:"\ud83c\uddf5\ud83c\udded",key:"PH",content:"Philippines",value:"PH-+63"},{flag:"\ud83c\uddf5\ud83c\uddf1",key:"PL",content:"Poland",value:"PL-+48"},{flag:"\ud83c\uddf5\ud83c\uddf9",key:"PT",content:"Portugal",value:"PT-+351"},{flag:"\ud83c\uddf5\ud83c\uddf7",key:"PR",content:"Puerto Rico",value:"PR-+1"},{flag:"\ud83c\uddf6\ud83c\udde6",key:"QA",content:"Qatar",value:"QA-+974"},{flag:"\ud83c\udde8\ud83c\uddec",key:"CG",content:"Republic of the Congo",value:"CG-+242"},{flag:"\ud83c\uddf7\ud83c\uddf4",key:"RO",content:"Romania",value:"RO-+40"},{flag:"\ud83c\uddf7\ud83c\uddfa",key:"RU",content:"Russia",value:"RU-+7"},{flag:"\ud83c\uddf7\ud83c\uddfc",key:"RW",content:"Rwanda",value:"RW-+250"},{flag:"\ud83c\uddf7\ud83c\uddea",key:"RE",content:"R\xe9union",value:"RE-+262"},{flag:"\ud83c\udde7\ud83c\uddf1",key:"BL",content:"Saint Barth\xe9lemy",value:"BL-+590"},{flag:"\ud83c\uddf8\ud83c\udded",key:"SH",content:"Saint Helena",value:"SH-+290"},{flag:"\ud83c\uddf0\ud83c\uddf3",key:"KN",content:"Saint Kitts and Nevis",value:"KN-+1"},{flag:"\ud83c\uddf2\ud83c\uddeb",key:"MF",content:"Saint Martin",value:"MF-+590"},{flag:"\ud83c\uddf5\ud83c\uddf2",key:"PM",content:"Saint Pierre and Miquelon",value:"PM-+508"},{flag:"\ud83c\uddfb\ud83c\udde8",key:"VC",content:"Saint Vincent and the Grenadines",value:"VC-+1"},{flag:"\ud83c\uddfc\ud83c\uddf8",key:"WS",content:"Samoa",value:"WS-+685"},{flag:"\ud83c\uddf8\ud83c\uddf2",key:"SM",content:"San Marino",value:"SM-+378"},{flag:"\ud83c\uddf8\ud83c\udde6",key:"SA",content:"Saudi Arabia",value:"SA-+966"},{flag:"\ud83c\uddf8\ud83c\uddf3",key:"SN",content:"Senegal",value:"SN-+221"},{flag:"\ud83c\uddf7\ud83c\uddf8",key:"RS",content:"Serbia",value:"RS-+381"},{flag:"\ud83c\uddf8\ud83c\udde8",key:"SC",content:"Seychelles",value:"SC-+248"},{flag:"\ud83c\uddf8\ud83c\uddf1",key:"SL",content:"Sierra Leone",value:"SL-+232"},{flag:"\ud83c\uddf8\ud83c\uddec",key:"SG",content:"Singapore",value:"SG-+65"},{flag:"\ud83c\uddf8\ud83c\uddf0",key:"SK",content:"Slovakia",value:"SK-+421"},{flag:"\ud83c\uddf8\ud83c\uddee",key:"SI",content:"Slovenia",value:"SI-+386"},{flag:"\ud83c\uddf8\ud83c\udde7",key:"SB",content:"Solomon Islands",value:"SB-+677"},{flag:"\ud83c\uddf8\ud83c\uddf4",key:"SO",content:"Somalia",value:"SO-+252"},{flag:"\ud83c\uddff\ud83c\udde6",key:"ZA",content:"South Africa",value:"ZA-+27"},{flag:"\ud83c\uddf0\ud83c\uddf7",key:"KR",content:"South Korea",value:"KR-+82"},{flag:"\ud83c\uddea\ud83c\uddf8",key:"ES",content:"Spain",value:"ES-+34"},{flag:"\ud83c\uddf1\ud83c\uddf0",key:"LK",content:"Sri Lanka",value:"LK-+94"},{flag:"\ud83c\uddf1\ud83c\udde8",key:"LC",content:"St. Lucia",value:"LC-+1"},{flag:"\ud83c\uddf8\ud83c\udde9",key:"SD",content:"Sudan",value:"SD-+249"},{flag:"\ud83c\uddf8\ud83c\uddf7",key:"SR",content:"Suriname",value:"SR-+597"},{flag:"\ud83c\uddf8\ud83c\uddff",key:"SZ",content:"Swaziland",value:"SZ-+268"},{flag:"\ud83c\uddf8\ud83c\uddea",key:"SE",content:"Sweden",value:"SE-+46"},{flag:"\ud83c\udde8\ud83c\udded",key:"CH",content:"Switzerland",value:"CH-+41"},{flag:"\ud83c\uddf8\ud83c\uddfe",key:"SY",content:"Syria",value:"SY-+963"},{flag:"\ud83c\uddf8\ud83c\uddf9",key:"ST",content:"S\xe3o Tom\xe9 and Pr\xedncipe",value:"ST-+239"},{flag:"\ud83c\uddf9\ud83c\uddfc",key:"TW",content:"Taiwan",value:"TW-+886"},{flag:"\ud83c\uddf9\ud83c\uddef",key:"TJ",content:"Tajikistan",value:"TJ-+992"},{flag:"\ud83c\uddf9\ud83c\uddff",key:"TZ",content:"Tanzania",value:"TZ-+255"},{flag:"\ud83c\uddf9\ud83c\udded",key:"TH",content:"Thailand",value:"TH-+66"},{flag:"\ud83c\udde7\ud83c\uddf8",key:"BS",content:"The Bahamas",value:"BS-+1"},{flag:"\ud83c\uddec\ud83c\uddf2",key:"GM",content:"The Gambia",value:"GM-+220"},{flag:"\ud83c\uddf9\ud83c\uddf1",key:"TL",content:"Timor-Leste",value:"TL-+670"},{flag:"\ud83c\uddf9\ud83c\uddec",key:"TG",content:"Togo",value:"TG-+228"},{flag:"\ud83c\uddf9\ud83c\uddf0",key:"TK",content:"Tokelau",value:"TK-+690"},{flag:"\ud83c\uddf9\ud83c\uddf4",key:"TO",content:"Tonga",value:"TO-+676"},{flag:"\ud83c\uddf9\ud83c\uddf9",key:"TT",content:"Trinidad and Tobago",value:"TT-+1"},{flag:"\ud83c\uddf9\ud83c\uddf3",key:"TN",content:"Tunisia",value:"TN-+216"},{flag:"\ud83c\uddf9\ud83c\uddf7",key:"TR",content:"Turkey",value:"TR-+90"},{flag:"\ud83c\uddf9\ud83c\uddf2",key:"TM",content:"Turkmenistan",value:"TM-+993"},{flag:"\ud83c\uddf9\ud83c\udde8",key:"TC",content:"Turks and Caicos Islands",value:"TC-+1"},{flag:"\ud83c\uddf9\ud83c\uddfb",key:"TV",content:"Tuvalu",value:"TV-+688"},{flag:"\ud83c\uddfb\ud83c\uddee",key:"VI",content:"US Virgin Islands",value:"VI-+1"},{flag:"\ud83c\uddfa\ud83c\uddec",key:"UG",content:"Uganda",value:"UG-+256"},{flag:"\ud83c\uddfa\ud83c\udde6",key:"UA",content:"Ukraine",value:"UA-+380"},{flag:"\ud83c\udde6\ud83c\uddea",key:"AE",content:"United Arab Emirates",value:"AE-+971"},{flag:"\ud83c\uddec\ud83c\udde7",key:"GB",content:"United Kingdom",value:"GB-+44"},{flag:"\ud83c\uddfa\ud83c\uddf8",key:"US",content:"United States",value:"US-+1"},{flag:"\ud83c\uddfa\ud83c\uddfe",key:"UY",content:"Uruguay",value:"UY-+598"},{flag:"\ud83c\uddfa\ud83c\uddff",key:"UZ",content:"Uzbekistan",value:"UZ-+998"},{flag:"\ud83c\uddfb\ud83c\uddfa",key:"VU",content:"Vanuatu",value:"VU-+678"},{flag:"\ud83c\uddfb\ud83c\udde6",key:"VA",content:"Vatican City",value:"VA-+39"},{flag:"\ud83c\uddfb\ud83c\uddea",key:"VE",content:"Venezuela",value:"VE-+58"},{flag:"\ud83c\uddfb\ud83c\uddf3",key:"VN",content:"Vietnam",value:"VN-+84"},{flag:"\ud83c\uddfc\ud83c\uddeb",key:"WF",content:"Wallis and Futuna",value:"WF-+681"},{flag:"\ud83c\uddfe\ud83c\uddea",key:"YE",content:"Yemen",value:"YE-+967"},{flag:"\ud83c\uddff\ud83c\uddf2",key:"ZM",content:"Zambia",value:"ZM-+260"},{flag:"\ud83c\uddff\ud83c\uddfc",key:"ZW",content:"Zimbabwe",value:"ZW-+263"}],ve=(0,s.forwardRef)(((e,t)=>{let{initialValue:a,error:n,onChange:l}=e,r=(0,o.Z)(e,me);const[c,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(xe[218]),[m,x]=(0,s.useState)(xe),v=(0,s.useRef)(null);function p(){var e;return!(null==(e=(0,he.ZP)(c,u.key))||null==e.isValid||!e.isValid())}function j(){h(xe[218]),d("")}(0,s.useImperativeHandle)(t,(()=>({validate:p,inputValue:c,reset:j}))),(0,s.useEffect)((()=>{if(a){const e=(0,he.ZP)(a);e&&e.nationalNumber&&(d(e.nationalNumber),h(xe.find((t=>t.key===e.country))||u))}}),[a]);return(0,_.jsxs)("div",{className:"ui-flex v-center",ref:v,children:[(0,_.jsxs)(i.Ph,{style:{width:"120px"},value:null==u?void 0:u.value,selectProps:{onChange:e=>{d("");const t=xe.find((t=>t.value===e.target.value));h(t)}},children:[(0,_.jsx)(i.Wx,{value:"",hidden:!0}),m.map((e=>(0,_.jsx)(i.Wx,{value:e.value,selected:(null==e?void 0:e.value)===u.value,children:`${e.flag} ${e.value.replace(/[A-Z]+-/,"")}`},e.key)))]}),(0,_.jsx)(i.II,{placeholder:r.placeholder,className:"w-100 ml-10",value:c,onChange:e=>{var t,a,s;let n;n="+"===(null==c?void 0:c[0])?(0,he.ZP)(e.target.value):(0,he.ZP)(e.target.value,u.key);let i="INTERNATIONAL";n&&e.target.value&&"+"===e.target.value[0]||(i="NATIONAL");const r=(null==(t=n)||null==t.format?void 0:t.format(i))||e.target.value;d(r),n&&(null==(a=n)?void 0:a.country)!==u.key&&h(xe.find((e=>{var t;return e.key===(null==(t=n)?void 0:t.country)}))||u),l&&l((null==(s=n)?void 0:s.number)||e.target.value)},ref:t,error:n})]})}));var pe=a(90286),je=a.n(pe);const ge=e=>{const{t}=(0,i.$G)(),[a,n]=(0,s.useState)(null),l=(0,s.useRef)(null);(0,s.useEffect)((()=>{a&&je().parse(a,{complete:t=>{e.onChange({target:{name:e.name,value:t.data[0]}})}})}),[a]);return(0,_.jsx)(_.Fragment,{children:null!=a&&a.name?(0,_.jsxs)("div",{className:"ui-flex v-center",children:[null==a?void 0:a.name," ",(0,_.jsx)(i.rU,{component:i.Xd,onClick:t=>{t.preventDefault(),l.current&&(l.current.value=""),n(null),e.onChange({target:{name:e.name,value:null}})},className:"ml-5",children:(0,_.jsx)(i.JO,{type:"Close",size:20})})]}):(0,_.jsxs)("div",{children:[(0,_.jsx)(i.rU,{component:i.Xd,type:"file",onClick:e=>{var t;e.preventDefault(),null==l||null==(t=l.current)||t.click()},children:t("Upload Attachment")}),(0,_.jsx)("input",{ref:l,type:"file",hidden:!0,onChange:e=>{n(e.target.files[0])}})]})})},be=["deleted_at","updated_at","created_at","id","oms_id","web_active","hub_id","hub","operating_hours"];function fe(){var e,t,a,r,h,m,x,v,p,j,g,b,f,y,N,k,C,w,A;const{t:E}=(0,i.$G)(),I=(0,n.k6)(),{can:T}=(0,s.useContext)(i.Il),S=(0,n.UO)(),O=!!S.id,Z=T(l.g3.NETWORK.CAN_CREATE_HOTEL),{register:H,handleSubmit:R,watch:z,formState:{errors:M},setValue:L,getValues:W,clearErrors:P}=(0,c.cI)({resolver:(0,d.X)(l.VY)}),[G,U]=(0,s.useState)(),[F,$]=(0,s.useState)(!1),[V,X]=(0,s.useState)(!1),{mutateAsync:K,isError:Q,isLoading:J}=D(),{data:Y,isLoading:q}=B({filters:"statuses[0]=true",enabled:!0}),{data:ee,isLoading:te}=ae({});(0,s.useEffect)((()=>{const e=z(((e,{name:t})=>{t&&$(!0)}));return()=>e.unsubscribe()}),[z]);return Z?te||q?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.Zb,{page:!0,children:(0,_.jsx)(i.Od,{parts:["title","divider","text-2","labelField-10","divider","text-2","labelField-7","divider","labelField"]})})}):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.rj,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:E(O?"Edit General Information":"Create New Hotel")})}),headerClassName:"mb-0",children:(0,_.jsxs)("form",{onSubmit:R((async e=>{U(void 0);try{const t=(0,o.Z)(e,be),a=Object.assign({},t,{room_count:+e.room_count,address_coordinates:`${e.address_coordinates.x}, ${e.address_coordinates.y}`,hub_id:(null==e?void 0:e.hub_id)&&+(null==e?void 0:e.hub_id),account_manager_id:(null==e?void 0:e.account_manager_id)&&+e.account_manager_id,reskin_config:(null==e?void 0:e.reskin_config)&&JSON.stringify(e.reskin_config),room_numbers:(null==e?void 0:e.room_numbers)&&`[${e.room_numbers.map((e=>`"${e}"`))}]`});await K(a),I.push("/network/hotel/list")}catch(t){U(t)}})),children:[(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)("div",{className:"mb-30",children:(0,_.jsx)(i.ZT,{h2:!0,children:E("Hotel General Information")})}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Hotel Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter hotel name")},H("name"),{error:null==M||null==(e=M.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Hotel Formal Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter formal hotel name")},H("formal_name"),{error:null==M||null==(t=M.formal_name)?void 0:t.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Town*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address town")},H("address_town"),{error:null==M||null==(a=M.address_town)?void 0:a.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Street*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address street")},H("address_street"),{error:null==M||null==(r=M.address_street)?void 0:r.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Number*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address number")},H("address_number"),{error:null==M||null==(h=M.address_number)?void 0:h.message}))}),(0,_.jsx)(i.cw,{children:(0,_.jsx)(i.NI,{label:E("Zip Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter Zip Code")},H("address_zip_code"),{error:null==M||null==(m=M.address_zip_code)?void 0:m.message}))})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Create_Room Number Count"),children:(0,_.jsx)(i.II,Object.assign({type:"number",min:"0",placeholder:E("Enter room number count")},H("room_count"),{error:null==M||null==(x=M.room_count)?void 0:x.message}))}),(0,_.jsx)("div",{className:"mt-20 mb-20",children:(0,_.jsxs)(i.NI,{className:"my-10",label:E("Room numbers(CSV)"),children:[(0,_.jsx)(ge,Object.assign({},H("room_numbers"))),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"mt-10",children:E("hotel_editor.csv_file_link.help_text")})]})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Web Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:"Enter hotel web code"},H("web_code"),{error:null==M||null==(v=M.web_code)?void 0:v.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:"Enter hotel code"},H("code"),{error:null==M||null==(p=M.code)?void 0:p.message}))}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"pb-20",children:(0,_.jsx)(i.ZT,{h2:!0,children:E("Contact Information")})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Customer Success Manager*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:H("account_manager_id"),error:null==M||null==(j=M.account_manager_id)?void 0:j.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:E("Select user")}),((null==ee?void 0:ee.payload)||[]).map((e=>(0,_.jsx)(i.Wx,{value:`${null==e?void 0:e.id}`,children:null==e?void 0:e.name},e.id)))]})}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Contact Person*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter contact person")},H("contact_person"),{error:null==M||null==(g=M.contact_person)?void 0:g.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Contact Number*"),children:(0,_.jsx)(ve,{placeholder:"Enter phone number",initialValue:W("web_phone"),onChange:e=>{var t;L("web_phone",e),null!=M&&null!=(t=M.web_phone)&&t.message&&P("web_phone")},error:null==M||null==(b=M.web_phone)?void 0:b.message})}),(0,_.jsxs)(i.NI,{className:"my-10",label:`${E("Invoice Email Address(es)")}*`,children:[(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter email address(es)")},H("contact_email"),{error:null==M||null==(f=M.contact_email)?void 0:f.message})),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-5",children:E("Add multiple emails with a comma")})]}),(0,_.jsx)(i.NI,{className:" my-10",label:`${E("Web URL ID")}*`,children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter web url id")},H("web_url_id"),{error:null==M||null==(y=M.web_url_id)?void 0:y.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Delivery Instructions*"),children:(0,_.jsx)(i.gx,Object.assign({placeholder:E("Enter delivery instructions")},H("delivery_instructions",{required:!1})))}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:E("Latitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:E("Coordinates")},H("address_coordinates.x"),{error:null==M||null==(N=M.address_coordinates)||null==(k=N.x)?void 0:k.message}))})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:E("Longitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:E("Coordinates")},H("address_coordinates.y"),{error:null==M||null==(C=M.address_coordinates)||null==(w=C.y)?void 0:w.message}))})})]}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)(i.ZT,{h2:!0,className:"pb-20",children:E("Network Relationships")}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Select Hub*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:H("hub_id"),error:null==(A=M.hub_id)?void 0:A.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:E("Select hub")}),((null==Y?void 0:Y.payload)||[]).map((e=>(0,_.jsx)(i.Wx,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},e.id)))]})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:Q&&(0,_.jsx)(i.Bc,{error:u(G)?G.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t=`/network/hotel/view/${S.id}`,F?X(!0):I.push(t)},children:E("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:J,children:E("Save")})]})]})}),(0,_.jsx)(i.RZ,{modal:V,setModal:X,onLeave:()=>I.push(`/network/hotel/view/${S.id}`)})]})})})})}):((0,i.hi)(E("You have no permissions to create a hotel"),{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))}const ye=()=>(0,_.jsx)(n.rs,{children:(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/create",children:(0,_.jsx)(fe,{})})});function _e(){const{t:e}=(0,i.$G)(),{can:t}=(0,s.useContext)(i.Il),{register:a,reset:r,handleSubmit:o}=(0,c.cI)({defaultValues:{has_car_service_enabled:!1}}),d=(0,n.k6)(),h=(0,n.UO)(),[m,x]=(0,s.useState)(),v=t(l.g3.NETWORK.CAN_UPDATE_HOTEL_INTEGRATION_CONFIGS_CAR_SERVICE),{data:p}=P({id:h.id}),{mutateAsync:j,isLoading:g,isError:b}=U(h.id);(0,s.useEffect)((()=>{var e;r({has_car_service_enabled:null==p||null==(e=p.payload)?void 0:e.has_car_service_enabled})}),[p,r]);return v?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Car Service")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,children:e("hotel_editor.car_service.description")}),(0,_.jsx)("form",{onSubmit:o((async e=>{x(void 0);try{var t,a,s;const n=Object.assign({},e,{name:null==p||null==(t=p.payload)?void 0:t.name,hub_id:(null==p||null==(a=p.payload)?void 0:a.hub_id)&&+(null==p||null==(s=p.payload)?void 0:s.hub_id)});await j(n),d.push(`/network/hotel/view/${h.id}`)}catch(n){x(n)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"ui-flex column",children:(0,_.jsx)(i.NI,{className:"my-10",children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-shuttle-app-enabled",label:e("hotel_editor.shuttle_app.enabled")},a("has_car_service_enabled")))})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:b&&(0,_.jsx)(i.Bc,{error:u(m)?m.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{d.push(`/network/hotel/view/${h.id}`)},children:e("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:g,children:e("Save")})]})]})})]})})})})})}):((0,i.hi)("You have no permissions to update the car service",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))}const Ne=function(){const{t:e}=(0,i.$G)(),{can:t}=(0,s.useContext)(i.Il),{register:a,reset:r,handleSubmit:o}=(0,c.cI)(),d=(0,n.k6)(),h=(0,n.UO)(),[m,x]=(0,s.useState)(),v=t(l.g3.NETWORK.CAN_UPDATE_HOTEL_PAYMENTS),{data:p}=P({id:h.id}),{mutateAsync:j,isLoading:g,isError:b}=U(h.id);return(0,s.useEffect)((()=>{var e,t,a;r({allow_payment_credit_card:null==p||null==(e=p.payload)?void 0:e.allow_payment_credit_card,allow_payment_room_charge:null==p||null==(t=p.payload)?void 0:t.allow_payment_room_charge,is_tax_exempt:null==p||null==(a=p.payload)?void 0:a.is_tax_exempt})}),[p,r]),v?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Payment Preferences")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"py-10",children:e("hotel_editor.payment_settings.description")}),(0,_.jsx)("form",{onSubmit:o((async e=>{var t,a,s;x(void 0);const n=Object.assign({},e,{name:null==p||null==(t=p.payload)?void 0:t.name,hub_id:(null==p||null==(a=p.payload)?void 0:a.hub_id)&&+(null==p||null==(s=p.payload)?void 0:s.hub_id)});try{await j(n),d.push(`/network/hotel/view/${h.id}`)}catch(i){x(i)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.NI,{className:"my-10",label:e("Payments with credit card"),children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-payment-credit-card-enabled"},a("allow_payment_credit_card")))}),(0,_.jsx)(i.NI,{className:"my-10",label:e("Charge to room"),children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-payment-room-charge-enabled"},a("allow_payment_room_charge")))}),(0,_.jsx)(i.NI,{className:"my-10",label:e("Tax Exempt"),children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-is-tax-exempt-enabled"},a("is_tax_exempt")))})]}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:b&&(0,_.jsx)(i.Bc,{error:u(m)?m.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{d.push(`/network/hotel/view/${h.id}`)},children:e("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:g,children:e("Save")})]})]})})]})})})})})}):((0,i.hi)("You have no permissions to update the payments",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))};function ke(){const{t:e}=(0,i.$G)(),{can:t}=(0,s.useContext)(i.Il),{register:a,reset:r,handleSubmit:o}=(0,c.cI)({defaultValues:{}}),d=(0,n.k6)(),h=(0,n.UO)(),[m,x]=(0,s.useState)(),v=t(l.g3.NETWORK.CAN_UPDATE_HOTEL_PAYMENTS),{data:p}=P({id:h.id}),{mutateAsync:j,isLoading:g,isError:b}=U(h.id);(0,s.useEffect)((()=>{var e;r({has_vouchers_enabled:null==p||null==(e=p.payload)?void 0:e.has_vouchers_enabled})}),[p,r]);return v?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Payment Preferences")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"py-10",children:e("hotel_editor.vouchers_app.description")}),(0,_.jsx)("form",{onSubmit:o((async e=>{var t,a,s;x(void 0);const n=Object.assign({},e,{name:null==p||null==(t=p.payload)?void 0:t.name,hub_id:(null==p||null==(a=p.payload)?void 0:a.hub_id)&&+(null==p||null==(s=p.payload)?void 0:s.hub_id)});try{await j(n),d.push(`/network/hotel/view/${h.id}`)}catch(i){x(i.response.data.error)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"ui-flex column",children:(0,_.jsx)(i.NI,{className:"my-10",label:e("Has Vouchers Enabled"),children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-has_vouchers_enabled"},a("has_vouchers_enabled")))})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:b&&(0,_.jsx)(i.Bc,{error:u(m)?m.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{d.push(`/network/hotel/view/${h.id}`)},children:e("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:g,children:e("Save")})]})]})})]})})})})})}):((0,i.hi)("You have no permissions to update the payments",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))}const Ce=["deleted_at","updated_at","created_at","id","oms_id","web_active","hub_id","hub","operating_hours"];function we(){var e,t,a,r,h,m,x,v,p,j,g,b,f,y,N,k,C,w,A;const{t:E}=(0,i.$G)(),I=(0,n.k6)(),T=(0,n.UO)(),{register:S,handleSubmit:O,watch:Z,formState:{errors:H},reset:R,setValue:z,getValues:M,clearErrors:L}=(0,c.cI)({resolver:(0,d.X)(l.VY)}),[W,D]=(0,s.useState)(),[G,F]=(0,s.useState)(!1),[$,V]=(0,s.useState)(!1),{data:X,isLoading:K}=P({id:T.id}),{mutateAsync:Q,isLoading:J,isError:Y}=U(T.id),{data:q}=B({filters:"statuses[0]=true",enabled:!0}),{data:ee}=ae({});(0,s.useEffect)((()=>{const e=Z(((e,{name:t})=>{t&&F(!0)}));return()=>e.unsubscribe()}),[Z]),(0,s.useEffect)((()=>{var e,t;R(Object.assign({},null==X?void 0:X.payload,{hub_id:`${null==X||null==(e=X.payload)||null==(t=e.hub)?void 0:t.id}`}))}),[q,X,R]);return K?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.Zb,{page:!0,children:(0,_.jsx)(i.Od,{parts:["title","divider","text-2","labelField-10","divider","text-2","labelField-7","divider","labelField"]})})}):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.rj,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:E("Edit General Information")})}),headerClassName:"mb-0",children:(0,_.jsxs)("form",{onSubmit:O((async e=>{D(void 0);try{const t=(0,o.Z)(e,Ce),a=Object.assign({},t,{room_count:+e.room_count,address_coordinates:`${e.address_coordinates.x}, ${e.address_coordinates.y}`,hub_id:(null==e?void 0:e.hub_id)&&+(null==e?void 0:e.hub_id),account_manager_id:(null==e?void 0:e.account_manager_id)&&+e.account_manager_id,reskin_config:(null==e?void 0:e.reskin_config)&&JSON.stringify(e.reskin_config),room_numbers:(null==e?void 0:e.room_numbers)&&`[${e.room_numbers.map((e=>`"${e}"`))}]`});await Q(a),I.push(`/network/hotel/view/${T.id}`)}catch(t){D(t)}})),children:[(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)("div",{className:"mb-30",children:(0,_.jsx)(i.ZT,{h2:!0,children:E("Hotel General Information")})}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Hotel Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter hotel name")},S("name"),{error:null==H||null==(e=H.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Hotel Formal Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter formal hotel name")},S("formal_name"),{error:null==H||null==(t=H.formal_name)?void 0:t.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Town*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address town")},S("address_town"),{error:null==H||null==(a=H.address_town)?void 0:a.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Street*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address street")},S("address_street"),{error:null==H||null==(r=H.address_street)?void 0:r.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Address Number*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter address number")},S("address_number"),{error:null==H||null==(h=H.address_number)?void 0:h.message}))}),(0,_.jsx)(i.cw,{children:(0,_.jsx)(i.NI,{label:E("Zip Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter Zip Code")},S("address_zip_code"),{error:null==H||null==(m=H.address_zip_code)?void 0:m.message}))})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Create_Room Number Count"),children:(0,_.jsx)(i.II,Object.assign({type:"number",min:"0",placeholder:E("Enter room number count")},S("room_count"),{error:null==H||null==(x=H.room_count)?void 0:x.message}))}),(0,_.jsx)("div",{className:"mt-20 mb-20",children:(0,_.jsxs)(i.NI,{className:"my-10",label:E("Room numbers(CSV)"),children:[(0,_.jsx)(ge,Object.assign({},S("room_numbers"))),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"mt-10",children:E("hotel_editor.csv_file_link.help_text")})]})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("PMS Enabled"),children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-has-pms-enabled"},S("has_pms_enabled")))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Web Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:"Enter hotel web code"},S("web_code"),{error:null==H||null==(v=H.web_code)?void 0:v.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Code*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:"Enter hotel code"},S("code"),{error:null==H||null==(p=H.code)?void 0:p.message}))}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"pb-20",children:(0,_.jsx)(i.ZT,{h2:!0,children:E("Contact Information")})}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Customer Success Manager*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:S("account_manager_id"),error:null==H||null==(j=H.account_manager_id)?void 0:j.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:E("Select user")}),((null==ee?void 0:ee.payload)||[]).map((e=>(0,_.jsx)(i.Wx,{value:`${null==e?void 0:e.id}`,children:null==e?void 0:e.name},e.id)))]})}),(0,_.jsx)(i.NI,{className:" my-10",label:E("Contact Person*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter contact person")},S("contact_person"),{error:null==H||null==(g=H.contact_person)?void 0:g.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Hotel Contact Number*"),children:(0,_.jsx)(ve,{placeholder:"Enter phone number",initialValue:M("web_phone"),onChange:e=>{var t;z("web_phone",e),null!=H&&null!=(t=H.web_phone)&&t.message&&L("web_phone")},error:null==H||null==(b=H.web_phone)?void 0:b.message})}),(0,_.jsxs)(i.NI,{className:"my-10",label:`${E("Invoice Email Address(es)")}*`,children:[(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter email address(es)")},S("contact_email"),{error:null==H||null==(f=H.contact_email)?void 0:f.message})),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-5",children:E("Add multiple emails with a comma")})]}),(0,_.jsx)(i.NI,{className:" my-10",label:`${E("Web URL ID")}*`,children:(0,_.jsx)(i.II,Object.assign({placeholder:E("Enter web url id")},S("web_url_id"),{error:null==H||null==(y=H.web_url_id)?void 0:y.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Delivery Instructions*"),children:(0,_.jsx)(i.gx,Object.assign({placeholder:E("Enter delivery instructions")},S("delivery_instructions",{required:!1})))}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:E("Latitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:E("Coordinates")},S("address_coordinates.x"),{error:null==H||null==(N=H.address_coordinates)||null==(k=N.x)?void 0:k.message}))})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:E("Longitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:E("Coordinates")},S("address_coordinates.y"),{error:null==H||null==(C=H.address_coordinates)||null==(w=C.y)?void 0:w.message}))})})]}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)(i.ZT,{h2:!0,className:"pb-20",children:E("Network Relationships")}),(0,_.jsx)(i.NI,{className:"my-10",label:E("Select Hub*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:S("hub_id"),error:null==(A=H.hub_id)?void 0:A.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:E("Select hub")}),((null==q?void 0:q.payload)||[]).map((e=>(0,_.jsx)(i.Wx,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},e.id)))]})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:Y&&(0,_.jsx)(i.Bc,{error:u(W)?W.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t=`/network/hotel/view/${T.id}`,G?V(!0):I.push(t)},children:E("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:J,children:E("Save")})]})]})}),(0,_.jsx)(i.RZ,{modal:$,setModal:V,onLeave:()=>I.push(`/network/hotel/view/${T.id}`)})]})})})})})}var Ae=a(15729);const Ee=(e,t,a,s)=>{const n={isAvailable:s};return Object.values(l.p3).forEach((s=>{n[s]={is_active:e,start_time:t,end_time:a}})),n},Ie=function({category:e,operatingHours:t,setOperatingHours:a}){const[n,r]=(0,s.useState)([{content:"",key:"",value:"",disabled:!0}]),o=()=>null==n?void 0:n.map((e=>(0,_.jsx)(i.Wx,{value:null==e?void 0:e.value,children:null==e?void 0:e.content},e.key)));return(0,s.useEffect)((()=>{r((()=>{const e=new Date,t=new Date,a="6:30 AM".split(/:| /),s="11:30 PM".split(/:| /);e.setHours("AM"===a[2]?+a[0]:+a[0]+12,+a[1]-30,0,0),t.setHours("AM"===s[2]?+s[0]:+s[0]+12,+s[1]-30,0,0);const n=[];for(;e<=t;){e.setTime(e.getTime()+18e5);let t=e.getHours();const a=e.getMinutes();let s="AM";t>=12&&(s="PM",t>12&&(t-=12)),n.push(`${t}:${0==a?"00":a} ${s}`)}return n.map((e=>({value:e,key:e,content:e})))})())}),[e]),(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{style:{margin:"5px 0 10px 0"},children:[(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th",children:"Day"}),(0,_.jsx)(i.pj,{as:"th",children:e.replace("_","Lunch_Dinner"===e?" & ":" ")}),(0,_.jsx)(i.pj,{as:"th"}),(0,_.jsx)(i.pj,{as:"th"})]})}),(0,_.jsx)(i.RM,{children:Object.values(l.p3).map(((s,n)=>{const l=(100*Math.random()+n).toString();return(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.XZ,{checked:t[s].is_active&&t.isAvailable,disabled:!t.isAvailable,label:s.slice(0,3),onChange:t=>{a(e,s,{is_active:t.target.checked})}})}),(0,_.jsx)(i.pj,{colspan:3,children:(0,_.jsxs)("div",{className:"ui-flex center v-center",children:[(0,_.jsx)(i.Ph,{style:{width:200},value:t[s].start_time,disabled:!(t[s].is_active&&t.isAvailable),selectProps:{onChange:t=>{a(e,s,{start_time:t.target.value})}},children:o()}),(0,_.jsx)(i.ZT,{className:"mx-20",p:!0,children:"to"}),(0,_.jsx)(i.Ph,{style:{width:200},value:t[s].end_time,disabled:!(t[s].is_active&&t.isAvailable),selectProps:{onChange:t=>{a(e,s,{end_time:t.target.value})}},children:o()})]})})]},l)}))})]}),(0,_.jsx)("br",{})]})})})};const Te=function(){var e;const{t}=(0,i.$G)(),a=(0,n.k6)(),{can:r}=(0,s.useContext)(i.Il),o=(0,n.UO)(),u=(0,i.h_)(l.pH.NETWORK),h=(0,i.h_)(l.pH.MENU),[m,x]=(0,s.useState)(!1),[v,p]=(0,s.useState)(),[j,g]=(0,s.useState)(),b=r(l.g3.NETWORK.CAN_UPDATE_HOTEL_MENU),[f,y]=(0,s.useState)(),[N,k]=(0,s.useState)((e=>{const t={};return e.forEach((e=>{if(!l._L[e])throw new Error(`Provided period/category ${e} does not exist in ${l._L}`);switch(e){case l._L.Breakfast:t[e]=Ee(!0,"06:30 AM","11:30 AM",!0);break;case l._L.LunchDinner:t[e]=Ee(!0,"11:30 AM","11:30 PM",!0);break;case l._L.Convenience:default:t[e]=Ee(!0,"06:30 AM","11:30 PM",!0)}})),t})([l._L.Breakfast,l._L.LunchDinner,l._L.Convenience])),{register:C,reset:w,getValues:A,setValue:E,clearErrors:I,handleSubmit:T,formState:{errors:S}}=(0,c.cI)({resolver:(0,d.X)(l.o)});return(0,s.useEffect)((()=>{(async()=>{const e=(await u.get(`/hotels/${o.id}`)).data.payload,t=null!=e&&e.operating_hours?null==e?void 0:e.operating_hours:[];k(t),g(e),w({web_active:null==e?void 0:e.web_active,web_url_id:null==e?void 0:e.web_url_id,web_code:null==e?void 0:e.web_code,allow_scheduled_orders:null==e?void 0:e.allow_scheduled_orders,web_phone:null==e?void 0:e.web_phone,delivery_instructions:null==e?void 0:e.delivery_instructions})})(),(async()=>{const e=(await h.get(`?hotelIds[0]=${o.id}`)).data.payload[0];y(e)})()}),[]),b?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:t("Edit Menu")}),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"py-10",children:t("hotel_editor.menu.description")}),(null==f?void 0:f.name)&&(0,_.jsx)(i.NI,{className:"my-10",label:"Menu ",children:(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/menu/menu/view/${null==f?void 0:f.id}`,children:null==f?void 0:f.name})}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"py-10",children:t("hotel_editor.menu_app.web_active")}),(0,_.jsxs)("form",{onSubmit:T((async e=>{p(void 0);try{var s;x(!0),await u.patch(`/hotels/${o.id}/`,Object.assign({},e,{code:null==j?void 0:j.code,hub_id:null==j||null==(s=j.hub)?void 0:s.id,operating_hours:N})),(0,i.hi)(t("Hotel updated successfully"),{type:"success"}),a.push(`/network/hotel/view/${o.id}`)}catch(n){(0,i.hi)(t("Hotel update failed"),{type:"error"}),p(n.response.data.error)}finally{x(!1)}})),children:[(0,_.jsxs)(i.X2,{children:[(0,_.jsx)(i.NI,{className:"my-10",children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-menu-app-enabled",label:t("Make Hotel Visible to Guest View")},C("web_active")))}),(0,_.jsx)(i.NI,{className:"my-10",label:"Web Phone*",children:(0,_.jsx)(ve,{placeholder:t("Web Phone"),initialValue:A("web_phone"),onChange:e=>{var t;E("web_phone",e),null!=S&&null!=(t=S.web_phone)&&t.message&&I("web_phone")},error:null==S||null==(e=S.web_phone)?void 0:e.message})}),(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsxs)(i.NI,{className:"my-10",children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"py-10",children:t("hotel_editor.menu_app_scheduled orders.description")}),(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-menu-app-scheduled-orders-enabled",label:t("Allow scheduled orders")},C("allow_scheduled_orders")))]}),(0,_.jsx)(i.NI,{className:"my-10",label:"Delivery Instruction",children:(0,_.jsx)(i.gx,Object.assign({"data-testid":"hotel-editor-menu-app-delivery-instructions",placeholder:t("Delivery Instructions")},C("delivery_instructions",{required:!1})))})]}),N.length>0&&(0,_.jsx)(i.ZT,{h2:!0,className:"pb-20 pt-30",children:t("Operating Hours")},"operating-hours-title"),Object.keys(N).map((e=>(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"is-available-wrapper mb-10",children:(0,_.jsx)(i.XZ,{label:e.replace("LunchDinner","LunchDinner"===e?"Lunch & Dinner":" "),checked:N[e].isAvailable,onChange:t=>{const a=(0,Ae.ZP)(N,(a=>{a[e]=Object.assign({},N[e],{isAvailable:t.target.checked})}));k(Object.assign({},a))}})}),(0,_.jsx)(Ie,{category:e,operatingHours:N[e],setOperatingHours:(e,t,a)=>{const s=(0,Ae.ZP)(N,(s=>{s[e][t]=Object.assign({},N[e][t],a)}));k(Object.assign({},s))}})]},e)))]}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{a.push(`/network/hotel/view/${o.id}`)},children:t("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:m,children:t("Save")})]})})]})]}),(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.NI,{className:"my-10",children:v&&(0,_.jsx)(i.Bc,{error:null==v?void 0:v.displayMessage})})})]})})})})}):((0,i.hi)("You have no permissions to update the menu",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))};function Se(){const{t:e}=(0,i.$G)(),{can:t}=(0,s.useContext)(i.Il),{register:a,reset:r,handleSubmit:o}=(0,c.cI)({defaultValues:{has_activities_enabled:!1}}),d=(0,n.k6)(),h=(0,n.UO)(),[m,x]=(0,s.useState)(),v=t(l.g3.NETWORK.CAN_UPDATE_HOTEL_INTEGRATION_CONFIGS_ACTIVITIES),{data:p}=P({id:h.id}),{mutateAsync:j,isLoading:g,isError:b}=U(h.id);(0,s.useEffect)((()=>{var e;r({has_activities_enabled:null==p||null==(e=p.payload)?void 0:e.has_activities_enabled})}),[p,r]);return v?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Activities")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,children:e("hotel_editor.activities_app.description")}),(0,_.jsx)("form",{onSubmit:o((async e=>{x(void 0);try{var t,a,s;const n=Object.assign({},e,{name:null==p||null==(t=p.payload)?void 0:t.name,hub_id:(null==p||null==(a=p.payload)?void 0:a.hub_id)&&+(null==p||null==(s=p.payload)?void 0:s.hub_id)});await j(n),d.push(`/network/hotel/view/${h.id}`)}catch(n){x(n)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"ui-flex column",children:(0,_.jsx)(i.NI,{className:"my-10",children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"hotel-editor-activities-app-enabled",label:e("Enabled")},a("has_activities_enabled")))})}),(0,_.jsx)("div",{className:"mb-30",children:b&&(0,_.jsx)(i.Bc,{error:u(m)?m.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{d.push(`/network/hotel/view/${h.id}`)},children:"Cancel"}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:g,children:e("Save")})]})]})})]})})})})})}):((0,i.hi)("You have no permissions to update the menu",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hotel/list"}))}const Oe=()=>(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/general-information/:id",children:(0,_.jsx)(we,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/payment-settings/:id",children:(0,_.jsx)(Ne,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/menu/:id",children:(0,_.jsx)(Te,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/vouchers/:id",children:(0,_.jsx)(ke,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/shuttle-app/:id",children:(0,_.jsx)(_e,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/edit/activities/:id",children:(0,_.jsx)(Se,{})})]});function Ze(){return(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/list",children:(0,_.jsx)(q,{})}),(0,_.jsx)(n.AW,{path:"/network/hotel/edit",children:(0,_.jsx)(Oe,{})}),(0,_.jsx)(n.AW,{path:"/network/hotel/create",children:(0,_.jsx)(ye,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hotel/view/:id",children:(0,_.jsx)(ue,{})})]})}function He(){const{t:e}=(0,i.$G)(),t=(0,n.k6)(),{can:a}=(0,s.useContext)(i.Il),r=a(l.g3.NETWORK.CAN_CREATE_HUB),o=a(l.g3.NETWORK.CAN_GET_HUBS),c=a(l.g3.NETWORK.CAN_UPDATE_HUB),[d,u]=(0,s.useState)(t.location.search),[h,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(1),j=w(h),{data:g,isLoading:b,isError:f}=B({page:x,search:j,filters:d}),{data:y}=v({}),N=[{name:"City",queryParamName:"city_ids",data:async()=>{var e;const t=[];return null==y||null==(e=y.payload)||e.forEach((e=>{t.push({label:e.name,queryParamValue:`${e.id||""}`})})),t}},{name:"Status",queryParamName:"statuses",data:[{label:"Active",queryParamValue:"true"},{label:"Inactive",queryParamValue:"false"}]}];(0,s.useEffect)((()=>{p(1)}),[j]);const k=e=>{var t;let a=0;return null==(t=e.hotels)||t.forEach((e=>{e.active&&(a+=1)})),a};return o?f?((0,i.hi)(e("Error fetching entity",{entity:"hubs"}),{type:"error"}),null):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:e("Hub List")}),r&&(0,_.jsx)(i.zx,{onClick:()=>t.push("/network/hub/create"),children:e("Create New")})]}),children:[(0,_.jsx)("div",{className:"network-toolbar mb-20",children:(0,_.jsxs)("div",{className:"network-toolbar-actions ui-flex start v-center",children:[(0,_.jsx)(i.x$,{columns:N,onChange:e=>{p(1),u(e),t.push(`?${e}`)},filtersString:d}),(0,_.jsx)("div",{className:"ml-5",children:(0,_.jsx)(i.Vr,{value:h,placeholder:e("Search..."),onChange:e=>m(e.target.value)})})]})}),b?(0,_.jsx)(i.Od,{parts:["table"]}):(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th",children:e("Hub Name")}),(0,_.jsx)(i.pj,{as:"th",children:e("Contact Number")}),(0,_.jsx)(i.pj,{as:"th",children:e("Email")}),(0,_.jsx)(i.pj,{as:"th",children:e("Address")}),(0,_.jsx)(i.pj,{as:"th",children:e("Tax Rate")}),(0,_.jsx)(i.pj,{as:"th",children:e("Hotels Associated")}),(0,_.jsx)(i.pj,{as:"th",children:e("Status")}),(0,_.jsx)(i.pj,{as:"th",style:{width:50}})]})}),(0,_.jsx)(i.RM,{children:((null==g?void 0:g.payload)||[]).map((a=>{return(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/network/hub/view/${a.id}`,children:a.name||"n/a"})}),(0,_.jsx)(i.pj,{children:a.contact_phone||"n/a"}),(0,_.jsx)(i.pj,{children:a.contact_email||"n/a"}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(Y,{address_town:null==a?void 0:a.address_town,address_street:null==a?void 0:a.address_street,address_number:null==a?void 0:a.address_number,address_zip_code:null==a?void 0:a.address_zip_code})}),(0,_.jsx)(i.pj,{children:(s=null==a?void 0:a.tax_rate,s?s%1==0?Number(s).toFixed():s:"n/a")}),(0,_.jsx)(i.pj,{children:k(a)}),(0,_.jsx)(i.pj,{children:(0,_.jsxs)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!a.active}),children:[null!=a&&a.active?"Active":"Inactive"," "]})}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.Lt,{renderTrigger:(e,t)=>(0,_.jsx)(i.Kk,{onClick:e,ref:t,children:(0,_.jsx)(i.JO,{type:"MoreHorizontal01",size:18})}),hasArrow:!0,placement:"right",children:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:160},children:[(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>t.push(`/network/hub/view/${a.id}`),leftIcon:(0,_.jsx)(i.JO,{type:"EyeOpen",size:18}),children:e("View")}),c&&(0,_.jsx)(i.zx,{className:"w-100",variant:"ghost",muted:!0,onClick:()=>{t.push(`/network/hub/edit/${a.id}`)},leftIcon:(0,_.jsx)(i.JO,{type:"Pen01",size:18}),children:e("Edit")})]})})})]},a.id);var s}))})]}),g&&!((g.payload||[]).length<1)||b?(0,_.jsx)(i.tl,{className:"ui-flex end mt-20",pages:(0,l.gc)(Number(null==g?void 0:g.total)),current:x,onPageChange:e=>p(e)}):(0,_.jsx)("div",{children:(0,_.jsx)(i.xM,{})})]})})})}):(0,_.jsx)(C,{entity:"Hubs"})}var Re=a(57619);const ze=["id","deleted_at","created_at","updated_at","active","hotels","oms_id","has_expeditor_app_enabled","city"];function Me(){var e,t,a,r,h,m,x,p,j,g,b,f,y;const{t:N}=(0,Re.$G)(),{can:k}=(0,s.useContext)(i.Il),C=(0,n.k6)(),w=(0,n.UO)(),A=k(l.g3.NETWORK.CAN_UPDATE_HUB),[E,I]=(0,s.useState)(),[T,S]=(0,s.useState)(!1),[O,Z]=(0,s.useState)(!1),{register:H,handleSubmit:R,watch:z,formState:{errors:M},reset:L,getValues:W,setValue:P,clearErrors:D}=(0,c.cI)({defaultValues:{active:!0},resolver:(0,d.X)(l.Gt)}),{data:G}=v({enabled:!0}),{data:U,isLoading:F}=V({id:w.id}),{mutateAsync:B,isLoading:$,isError:X}=K(w.id);(0,s.useEffect)((()=>{var e,t;L(Object.assign({},null==U?void 0:U.payload,{city_id:null==U||null==(e=U.payload)||null==(t=e.city)?void 0:t.id}))}),[G,U,L]),(0,s.useEffect)((()=>{const e=z(((e,{name:t})=>{t&&S(!0)}));return()=>e.unsubscribe()}),[z]);return A?F?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.Zb,{page:!0,children:(0,_.jsx)(i.Od,{parts:["title","divider","text-2","labelField-7","divider","text-2","labelField"]})})}):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:N("Edit Hub")})}),headerClassName:"mb-0",children:(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsx)(i.sg,{offset:3,size:6,children:(0,_.jsxs)("form",{onSubmit:R((async e=>{I(void 0);const t=(0,o.Z)(e,ze),a=Object.assign({},t,{address_coordinates:`${e.address_coordinates.x}, ${e.address_coordinates.y}`,tax_rate:Number(e.tax_rate),city_id:Number(e.city_id)});try{await B(a),C.push(`/network/hub/view/${w.id}`)}catch(s){I(s)}})),children:[(0,_.jsxs)("div",{className:"mb-30",children:[(0,_.jsx)(i.ZT,{h2:!0,children:N("Hub General Information")}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-10",children:N("hub_editor.description")})]}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Hub Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter hub name")},H("name"),{error:null==M||null==(e=M.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Contact Email*"),children:(0,_.jsx)(i.II,Object.assign({type:"email",placeholder:N("Enter contact email")},H("contact_email"),{error:null==M||null==(t=M.contact_email)?void 0:t.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Contact Number*"),children:(0,_.jsx)(ve,{placeholder:"Enter contact number",initialValue:W("contact_phone"),onChange:e=>{var t;P("contact_phone",e),null!=M&&null!=(t=M.contact_phone)&&t.message&&D("contact_phone")},error:null==M||null==(a=M.contact_phone)?void 0:a.message})}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Town*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address town")},H("address_town"),{error:null==(r=M.address_town)?void 0:r.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Street*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address street")},H("address_street"),{error:null==(h=M.address_street)?void 0:h.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Number*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address number")},H("address_number"),{error:null==(m=M.address_number)?void 0:m.message}))}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("City*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:H("city_id"),error:null==(x=M.city_id)?void 0:x.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:N("Pick your city")}),null==G||null==(Q=G.payload)?void 0:Q.map((e=>(0,_.jsx)(i.Wx,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},null==e?void 0:e.id)))]})})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("ZIP Code*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",placeholder:N("Enter ZIP Code")},H("address_zip_code"),{error:null==M||null==(p=M.address_zip_code)?void 0:p.message}))})})]}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("Latitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:N("Coordinates"),width:"50%"},H("address_coordinates.x"),{error:null==M||null==(j=M.address_coordinates)||null==(g=j.x)?void 0:g.message}))})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("Longitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:N("Coordinates")},H("address_coordinates.y"),{error:null==M||null==(b=M.address_coordinates)||null==(f=b.y)?void 0:f.message}))})})]}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsxs)("div",{className:"mb-30",children:[(0,_.jsx)(i.ZT,{h2:!0,children:N("Tax Rate")}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-10",children:N("hub_editor.tax_rate_helper_text")})]}),(0,_.jsx)(i.NI,{className:"my-10",label:"Tax %*",children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"0.000001",min:"0",max:"100",placeholder:N("Enter Tax %")},H("tax_rate"),{error:null==(y=M.tax_rate)?void 0:y.message}))}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:X&&(0,_.jsx)(i.Bc,{error:u(E)?E.message:""})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t=`/network/hub/view/${null==w?void 0:w.id}`,T&&Z(!0),C.push(t)},children:N("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",className:"text-medium",disabled:$,children:N("Save")})]})})]})})})})}),(0,_.jsx)(i.RZ,{modal:O,setModal:Z,onLeave:()=>C.push("/network/hub/list")})]})}):((0,i.hi)("You have no permissions to update a hub",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hub/list"}));var Q}function Le(){const{t:e}=(0,i.$G)(),{register:t,handleSubmit:a,reset:l}=(0,c.cI)(),r=(0,n.k6)(),o=(0,n.UO)(),[d,h]=(0,s.useState)(),{data:m}=V({id:o.id}),{mutateAsync:x,isLoading:v,isError:p}=K(o.id);(0,s.useEffect)((()=>{var e;l(Object.assign({},null==m?void 0:m.payload,{has_nextmv_enabled:null==m||null==(e=m.payload)?void 0:e.has_nextmv_enabled}))}),[m,l]);return(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Next Move")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,children:e("hub_editor.nextmv.description")}),(0,_.jsx)("form",{onSubmit:a((async e=>{try{await x({has_nextmv_enabled:null==e?void 0:e.has_nextmv_enabled}),r.push(`/network/hub/view/${o.id}`)}catch(t){h(t)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"ui-flex column",children:(0,_.jsx)(i.NI,{className:"my-10",children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"next-mv-toggle",label:e("hub_editor.next_move_app.enabled")},t("has_nextmv_enabled")))})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:p&&(0,_.jsx)(i.Bc,{error:u(d)?d.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{r.push(`/network/hub/view/${o.id}`)},children:e("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:v,children:e("Save")})]})]})})]})})})})})})}const We=()=>{const{t:e}=(0,i.$G)(),t=(0,n.UO)(),a=(0,n.k6)(),[l,r]=(0,s.useState)(),{register:o,reset:d,handleSubmit:h}=(0,c.cI)({}),{data:m}=V({id:t.id}),{mutateAsync:x,isLoading:v,isError:p}=K(t.id);(0,s.useEffect)((()=>{var e;d(Object.assign({},null==m?void 0:m.payload,{has_expeditor_app_enabled:null==m||null==(e=m.payload)?void 0:e.has_expeditor_app_enabled}))}),[m,d]);return(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)(i.ZT,{h2:!0,children:e("Expeditor")}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)(i.sg,{offset:3,size:6,children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,children:e("hub_editor.expeditor-enabled.description")}),(0,_.jsx)("form",{onSubmit:h((async e=>{try{await x({has_expeditor_app_enabled:null==e?void 0:e.has_expeditor_app_enabled}),a.push(`/network/hub/view/${t.id}`)}catch(s){r(s)}})),children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{className:"ui-flex column",children:(0,_.jsx)(i.NI,{className:"my-10",children:(0,_.jsx)(i.ZD,Object.assign({"data-testid":"next-mv-toggle",label:e("hub_editor.expeditor_enabled_app.enabled")},o("has_expeditor_app_enabled")))})}),(0,_.jsx)("div",{className:"mb-30",children:p&&(0,_.jsx)(i.Bc,{error:u(l)?l.message:""})}),(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:()=>{a.push(`/network/hub/view/${t.id}`)},children:e("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",disabled:v,children:e("Save")})]})]})})]})})})})})})},Pe=()=>(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/edit/:id",children:(0,_.jsx)(Me,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/edit/next-mv-settings/:id",children:(0,_.jsx)(Le,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/edit/expeditor-settings/:id",children:(0,_.jsx)(We,{})})]}),De=["hotels","oms_id","city"];function Ge(){var e,t,a,r,h,m,x,p,j,g,b,f,y;const{t:N}=(0,Re.$G)(),{can:k}=(0,s.useContext)(i.Il),C=(0,n.k6)(),w=k(l.g3.NETWORK.CAN_CREATE_HUB),[A,E]=(0,s.useState)(),[I,T]=(0,s.useState)(!1),[S,O]=(0,s.useState)(!1),{register:Z,handleSubmit:H,watch:R,formState:{errors:z},getValues:M,setValue:L,clearErrors:W}=(0,c.cI)({resolver:(0,d.X)(l.Gt),reValidateMode:"onChange",shouldFocusError:!0});(0,s.useEffect)((()=>{const e=R(((e,{name:t})=>{t&&T(!0)}));return()=>e.unsubscribe()}),[R]);const{mutateAsync:P,isError:D,isLoading:G}=X(),{data:U,isLoading:F}=v({});return w?F?(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsx)(i.Zb,{page:!0,children:(0,_.jsx)(i.Od,{parts:["title","divider","text-2","labelField-7","divider","text-2","labelField"]})})}):(0,_.jsx)(i.rj,{gutter:0,children:(0,_.jsxs)(i.X2,{children:[(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsx)("div",{children:(0,_.jsx)(i.ZT,{h2:!0,children:N("Create New Hub")})}),headerClassName:"mb-0",children:(0,_.jsx)("div",{className:"mt-30",children:(0,_.jsx)(i.sg,{offset:3,size:6,children:(0,_.jsxs)("form",{onSubmit:H((async e=>{E(void 0);const t=(0,o.Z)(e,De),a=Object.assign({},t,{address_coordinates:`${e.address_coordinates.x}, ${e.address_coordinates.y}`,tax_rate:Number(e.tax_rate),city_id:Number(e.city_id)});try{await P(a),C.push("/network/hub/list")}catch(s){E(s)}})),children:[(0,_.jsxs)("div",{className:"mb-30",children:[(0,_.jsx)(i.ZT,{h2:!0,children:N("Hub General Information")}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-10",children:N("hub_editor.description")})]}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Hub Name*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter hub name")},Z("name"),{error:null==z||null==(e=z.name)?void 0:e.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Contact Email*"),children:(0,_.jsx)(i.II,Object.assign({type:"email",placeholder:N("Enter contact email")},Z("contact_email"),{error:null==z||null==(t=z.contact_email)?void 0:t.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Contact Number*"),children:(0,_.jsx)(ve,{placeholder:"Enter contact number",initialValue:M("contact_phone"),onChange:e=>{var t;L("contact_phone",e),null!=z&&null!=(t=z.contact_phone)&&t.message&&W("contact_phone")},error:null==z||null==(a=z.contact_phone)?void 0:a.message})}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Town*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address town")},Z("address_town"),{error:null==(r=z.address_town)?void 0:r.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Street*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address street")},Z("address_street"),{error:null==(h=z.address_street)?void 0:h.message}))}),(0,_.jsx)(i.NI,{className:"my-10",label:N("Address Number*"),children:(0,_.jsx)(i.II,Object.assign({placeholder:N("Enter address number")},Z("address_number"),{error:null==(m=z.address_number)?void 0:m.message}))}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("City*"),children:(0,_.jsxs)(i.Ph,{value:"",selectProps:Z("city_id"),error:null==(x=z.city_id)?void 0:x.message,children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:N("Pick your city")}),null==U||null==(B=U.payload)?void 0:B.map((e=>(0,_.jsx)(i.Wx,{value:null==e?void 0:e.id,children:null==e?void 0:e.name},null==e?void 0:e.id)))]})})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("ZIP Code*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",placeholder:N("Enter ZIP Code")},Z("address_zip_code"),{error:null==z||null==(p=z.address_zip_code)?void 0:p.message}))})})]}),(0,_.jsxs)(i.cw,{className:"my-10",children:[(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("Latitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:N("Coordinates"),width:"50%"},Z("address_coordinates.x"),{error:null==z||null==(j=z.address_coordinates)||null==(g=j.x)?void 0:g.message}))})}),(0,_.jsx)(i.sg,{size:6,children:(0,_.jsx)(i.NI,{label:N("Longitude*"),children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"any",placeholder:N("Coordinates")},Z("address_coordinates.y"),{error:null==z||null==(b=z.address_coordinates)||null==(f=b.y)?void 0:f.message}))})})]}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsxs)("div",{className:"mb-30",children:[(0,_.jsx)(i.ZT,{h2:!0,children:N("Tax Rate")}),(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pt-10",children:N("hub_editor.tax_rate_helper_text")})]}),(0,_.jsx)(i.NI,{className:"my-10",label:"Tax %*",children:(0,_.jsx)(i.II,Object.assign({type:"number",step:"0.000001",min:"0",max:"100",placeholder:N("Enter Tax %")},Z("tax_rate"),{error:null==(y=z.tax_rate)?void 0:y.message}))}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"mb-30",children:D&&(0,_.jsx)(i.Bc,{error:u(A)?A.message:""})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"form-bottom-action",children:[(0,_.jsx)(i.zx,{variant:"ghost",onClick:e=>{var t;e.preventDefault(),t="/network/hub/list/",I&&O(!0),C.push(t)},children:N("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",variant:"primary",className:"text-medium",disabled:G,children:N("Save")})]})})]})})})})}),(0,_.jsx)(i.RZ,{modal:S,setModal:O,onLeave:()=>C.push("/network/hub/list")})]})}):((0,i.hi)("You have no permissions to create a hub",{type:"warning"}),(0,_.jsx)(n.l_,{to:"/network/hub/list"}));var B}function Ue({hub:e}){var t,a,s,l,r,o;const{t:c}=(0,i.$G)(),d=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:"General Information"}),(0,_.jsx)(i.rU,{component:"button",onClick:()=>d.push(`/network/hub/edit/${null==e?void 0:e.id}`),children:c("Edit")})]}),children:[(null==e?void 0:e.name)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Hub Name")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.name})]})}),(null==e?void 0:e.contact_email)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Contact Email")}),(0,_.jsx)(i.ZT,{children:e.contact_email})]})}),(null==e?void 0:e.contact_phone)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Contact Number")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.contact_phone})]})}),((null==e?void 0:e.address_town)||(null==e?void 0:e.address_number)||(null==e?void 0:e.address_street)||(null==e?void 0:e.address_zip_code))&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Address")}),(0,_.jsx)(Y,{address_town:null==e?void 0:e.address_town,address_street:null==e?void 0:e.address_street,address_number:null==e?void 0:e.address_number,address_zip_code:null==e?void 0:e.address_zip_code})]})}),(null==e?void 0:e.city)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Hub City")}),(0,_.jsx)(i.rU,{size:"medium",component:n.rU,to:`/network/city/view/${null==e||null==(t=e.city)?void 0:t.id}`,children:(null==e||null==(a=e.city)?void 0:a.name)||"n/a"})]})}),(null==e?void 0:e.address_zip_code)&&(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("ZIP Code")}),(0,_.jsx)(i.ZT,{children:null==e?void 0:e.address_zip_code})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("GPS Coordinates")}),(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsxs)("div",{className:"ui-flex v-center",children:[(0,_.jsx)(i.ZT,{p:!0,className:"text-medium",children:"Latitude:"}),(0,_.jsx)(i.ZT,{className:"ml-5 text-medium",p:!0,children:(null==e||null==(s=e.address_coordinates)?void 0:s.x)||(null==e||null==(l=e.address_coordinates)?void 0:l.latitude)||"n/a"})]}),(0,_.jsxs)("div",{className:"ui-flex v-center",children:[(0,_.jsx)(i.ZT,{p:!0,className:"text-medium",children:"Longitude:"}),(0,_.jsx)(i.ZT,{className:"ml-5 text-medium",p:!0,children:(null==e||null==(r=e.address_coordinates)?void 0:r.y)||(null==e||null==(o=e.address_coordinates)?void 0:o.longitude)||"n/a"})]})]})]})}),(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:c("Hub Tax Rate %")}),(0,_.jsx)(i.ZT,{children:(null==e?void 0:e.tax_rate)&&`${null==e?void 0:e.tax_rate} %`})]})})]})})})}const Fe=({hub:e})=>{const{t}=(0,i.$G)(),a=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Zb,{page:!0,className:"network-content",header:(0,_.jsx)(i.ZT,{h2:!0,children:t("Assigned Hotels")}),children:[(0,_.jsx)(i.ZT,{p:!0,muted:!0,className:"pb-30",children:t("hub_manage.assigned_hotels.helper_text")}),(0,_.jsxs)(i.iA,{children:[(0,_.jsx)(i.ss,{children:(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{as:"th"}),(0,_.jsx)(i.pj,{as:"th",children:t("Hotel Name")}),(0,_.jsx)(i.pj,{as:"th",children:t("Status")})]})}),(0,_.jsx)(i.RM,{children:((null==e?void 0:e.hotels)||[]).map((e=>(0,_.jsxs)(i.SC,{children:[(0,_.jsx)(i.pj,{className:"act",style:{width:"16px"},children:(0,_.jsx)(i.Kk,{onClick:()=>{a.push(`/network/hotel/view/${null==e?void 0:e.id}`)},children:(0,_.jsx)(i.JO,{type:"NewWindow",size:16})})}),(0,_.jsx)(i.pj,{children:null==e?void 0:e.name}),(0,_.jsx)(i.pj,{children:(0,_.jsx)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!e.active}),children:null!=e&&e.active?t("Active"):t("Inactive")})})]},e.id)))})]}),(!(null!=e&&e.hotels)||(null==e?void 0:e.hotels.length)<1)&&(0,_.jsx)("div",{children:(0,_.jsx)(S,{})})]})})})};function Be({hub:e}){const{t}=(0,i.$G)(),a=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:"Next move"}),(0,_.jsx)(i.rU,{component:"button",onClick:()=>a.push(`/network/hub/edit/next-mv-settings/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Next Move")})," ",(0,_.jsxs)(i.ZT,{children:[null!=e&&e.has_nextmv_enabled?t("Enabled"):t("Disabled")," "]})]})})})})})}var $e=a(46062),Ve=a.n($e),Xe=a(44036),Ke=a.n(Xe),Qe=a(96793),Je=a.n(Qe),Ye=a(17892),qe=a.n(Ye),et=a(11173),tt=a.n(et),at=a(42464),st=a.n(at),nt=a(95130),it=a.n(nt),lt={};lt.styleTagTransform=st(),lt.setAttributes=qe(),lt.insert=Je().bind(null,"head"),lt.domAPI=Ke(),lt.insertStyleElement=tt();Ve()(it(),lt);it()&&it().locals&&it().locals;const rt=function({hub:e,modal:t,setModal:a,onChange:r,submitTxt:o,isDeleteAction:c}){var d,u;const{t:m}=(0,i.$G)(),x=(0,n.k6)(),[v,p]=(0,s.useState)([]),[j,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(),[y,N]=(0,s.useState)(!1),{data:k,isLoading:C}=B({filters:"statuses[0]=true",enabled:!!t}),{mutateAsync:w}=function(e){const{t}=(0,i.$G)(),a=(0,h.useQueryClient)(),s=(0,i.h_)(l.pH.NETWORK);return(0,h.useMutation)((t=>async function(e,t,a){const s=a;return(await s.patch(`/hubs/reassign-hotels/${e}`,t)).data}(e,t,s)),{onError:()=>{(0,i.hi)(t("Hub status update failed"),{type:"error"})},onSuccess:async()=>{a.invalidateQueries(G.all),(0,i.hi)(t("Hub status updated successfully"),{type:"success"})}})}(`${null==e?void 0:e.id}`),{mutateAsync:A}=Q(`${null==e?void 0:e.id}`);return(0,s.useEffect)((()=>{v.length&&g(!0)}),[v]),(0,_.jsxs)(i.u_,{visible:t||!1,onClose:()=>{},style:{minWidth:900},children:[(0,_.jsx)(i.ZT,{h2:!0,children:m(c?"hub_manage.reassign_hotels.delete.message":"hub_manage.reassign_hotels.message",{hub_name:null==e?void 0:e.name})}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsxs)(i.rj,{children:[C&&(0,_.jsx)(i.sg,{className:"ui-flex center",children:(0,_.jsx)(i.ZT,{h2:!0,children:m("Loading...")})}),!C&&(0,_.jsxs)("form",{children:[(0,_.jsx)(i.rU,{component:"button",variant:"primary-light",size:"medium",onClick:async e=>{e.preventDefault(),N(!y),p([])},children:m(y?"Bulk Reassign":"Assign Individually")}),null!=k&&null!=(d=k.payload)&&d.length?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{p:!0,className:"desc-label",muted:!0,children:m("associated_hotels",{this_hub:null==e||null==(u=e.hotels)?void 0:u.length,this_hub_name:null==e?void 0:e.name})}),y&&(null==e||null==(I=e.hotels)?void 0:I.map((t=>{return(0,_.jsxs)(i.X2,{cols:2,children:[(0,_.jsx)(i.sg,{className:"ui-flex v-center",children:(0,_.jsx)(i.ZT,{label:!0,children:null==t?void 0:t.name})}),(0,_.jsx)(i.sg,{children:(0,_.jsxs)(i.Ph,{value:"",selectProps:{onChange:e=>{const a=JSON.parse(e.target.value),s=(0,Ae.ZP)(v,(e=>{const s=e.findIndex((e=>e.hotel_id===a.hotelId));if(-1!==s)e[s]=Object.assign({},a);else{const s=Object.assign({},a,{hotelId:t.id});e.push(s)}}));p(s)}},children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:"Select hub"}),(a=`${null==t?void 0:t.id}`,null==k||null==(s=k.payload)?void 0:s.filter((t=>(null==t?void 0:t.id)!==(null==e?void 0:e.id))).map((e=>(0,_.jsx)(i.Wx,{value:JSON.stringify({hubId:null==e?void 0:e.id,hotelId:a}),children:null==e?void 0:e.name},e.id))))]})})]});var a,s}))),!y&&(0,_.jsx)(i.sg,{sm:12,children:(0,_.jsxs)(i.Ph,{value:"",selectProps:{onChange:t=>{const a=JSON.parse(t.target.value),s=(0,Ae.ZP)([],(t=>{var s;null==e||null==(s=e.hotels)||s.forEach((e=>{t.push(Object.assign({},a,{hotelId:e.id}))}))}));p(s)}},children:[(0,_.jsx)(i.Wx,{value:"",disabled:!0,hidden:!0,children:"Select hub"}),null==k||null==(E=k.payload)?void 0:E.filter((t=>(null==t?void 0:t.id)!==(null==e?void 0:e.id))).map((e=>(0,_.jsx)(i.Wx,{value:JSON.stringify({hubId:null==e?void 0:e.id}),children:null==e?void 0:e.name},e.id)))]})})]}):(0,_.jsx)(i.ZT,{p:!0,size:"large",className:"desc-label",muted:!0,children:m("There are no hubs")}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsxs)("div",{className:"ui-flex end",children:[(0,_.jsx)(i.zx,{size:"large",variant:"ghost",onClick:()=>{null==a||a(!1),g(!1),N(!1),f(void 0),p([])},children:m("Cancel")}),(0,_.jsx)(i.zx,{type:"submit",size:"large",variant:"primary",style:{marginLeft:20},disabled:!j,onClick:e=>(async e=>{e.preventDefault();try{await w(v),null==r||r(),c&&(await A(),null==a||a(!1),x.push("/network/hub/list"))}catch(t){f(t)}})(e),children:o})]}),b&&(0,_.jsx)("div",{className:"mt-20",children:(0,_.jsx)(i.Bc,{error:b})})]})]})]});var E,I};function ot({relations:e,isLoading:t,title:a,onDelete:s,onClose:n,contentText:l}){const{t:r}=(0,i.$G)(),o=null==e?void 0:e.length;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:null!=l&&l.title?l.title:`${r("delete")} ${a}`}),(0,_.jsx)(i.iz,{}),t&&(0,_.jsx)(i.Od,{parts:["labelField-4"],className:"mt-20"}),o?(0,_.jsxs)(i.ZT,{children:[null!=l&&l.info?l.info:r("delete_entity_used_on",{entity:null==a?void 0:a.toLowerCase()}),":"]}):(0,_.jsxs)(i.ZT,{children:[r("delete_confirm")," Hub?"]}),!t&&(0,_.jsx)("ul",{className:"mt-10",children:(e||[]).map((e=>(0,_.jsx)("li",{className:"my-5",children:(0,_.jsxs)(i.rU,{size:"medium",href:`network/hotel/view/${e.id}`,target:"_blank",className:"ui-flex v-center between ui-border p-5 ui-rounded",children:[e.name,(0,_.jsx)(i.JO,{type:"Link",size:14,className:"ml-5"})]})},e.id)))}),(0,_.jsx)(i.iz,{vertical:30}),(0,_.jsx)("div",{className:"ui-flex v-center end",children:!o&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.zx,{size:"large",variant:"ghost",onClick:n,children:r("Cancel")}),(0,_.jsx)(i.zx,{size:"large",variant:"danger",className:"ml-10",onClick:()=>{s()},children:r("Continue")})]})})]})}function ct({reloadData:e,meta:t,onClose:a}){var s,n,l;const{t:r}=(0,i.$G)(),{mutateAsync:o}=Q(t.id),{data:c,isLoading:d}=V({id:t.id});return(0,_.jsx)(i.u_,{visible:!0,onClose:a,style:{minWidth:360},children:(0,_.jsx)(ot,{title:r("Hub"),isLoading:d,relations:null==c||null==(s=c.payload)?void 0:s.hotels,onClose:a,onDelete:async()=>{try{return await o(),e(t.id),a()}catch(s){return null}},contentText:{title:null!=c&&null!=(n=c.payload)&&null!=(l=n.hotels)&&l.length?r("Hub Relations"):r("Delete Hub?")}})})}function dt({hub:e,onChange:t}){var a;const{t:l}=(0,i.$G)(),r=(0,n.k6)(),[o,c]=(0,s.useState)(),[d,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(),{mutateAsync:x,isLoading:v}=J(`${null==e?void 0:e.id}`),p=null==e?void 0:e.active,j=null==e||null==(a=e.hotels)?void 0:a.length,{refetch:g}=V({id:`${null==e?void 0:e.id}`,enabled:!1});return(0,_.jsxs)(i.X2,{children:[(0,_.jsx)("div",{children:(0,_.jsx)(i.Lt,{renderTrigger:(e,t)=>(0,_.jsx)(i.Kk,{ref:t,onClick:e,"data-testid":"three-dots-cta",children:(0,_.jsx)(i.JO,{type:"ThreeDots",size:40})}),hasArrow:!0,placement:"right",children:(0,_.jsxs)("div",{className:"ui-flex column network-action-dropdown",children:[(0,_.jsxs)(i.zx,{muted:!0,className:"w-100",variant:""+(p?"danger-ghost":"ghost"),onClick:async()=>p&&j?c(!0):(async()=>{var a;await x({status:!p,name:(null==e?void 0:e.name)||"",city_id:(null==e?void 0:e.city_id)&&+(null==e?void 0:e.city_id)});const s=await g();null==t||t(null==s||null==(a=s.data)?void 0:a.payload)})(),disabled:v,children:[(0,_.jsx)(i.JO,{type:p?"Close":"Checkmark",className:"mr-10",size:20}),l(p?"Deactivate Hub":"Activate Hub")]}),(0,_.jsxs)(i.zx,{className:"w-100",variant:"danger-ghost",muted:!0,onClick:async()=>(u(!0),null!=e&&e.id&&!j?m({resource:"hubs",id:`${null==e?void 0:e.id}`}):c(!0)),children:[(0,_.jsx)(i.JO,{type:"Delete",size:20,className:"mr-10"}),"Delete"]})]})})}),(0,_.jsx)(rt,{hub:e,modal:o,setModal:c,onChange:async()=>{d||(async()=>{var e;const a=await g();null==t||t(null==a||null==(e=a.data)?void 0:e.payload)})()},submitTxt:l(d?"Save Assignment & Delete Hub":"Save Assignment & Deactivate Hub"),isDeleteAction:d}),h&&(0,_.jsx)(ct,{reloadData:()=>r.push("/network/hub/list"),meta:h,onClose:()=>m(void 0)})]})}const ut=({hub:e})=>{const{t}=(0,i.$G)(),a=(0,n.k6)();return(0,_.jsx)(i.X2,{children:(0,_.jsx)(i.sg,{children:(0,_.jsx)(i.Zb,{className:"network-content",page:!0,header:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i.ZT,{h2:!0,children:t("Expeditor")}),(0,_.jsx)(i.rU,{component:"button",onClick:()=>a.push(`/network/hub/edit/expeditor-settings/${null==e?void 0:e.id}`),children:t("Edit")})]}),children:(0,_.jsx)(i.X2,{children:(0,_.jsxs)("div",{className:"ui-flex column",children:[(0,_.jsx)(i.ZT,{size:"small",muted:!0,className:"pb-10",children:t("Expeditor is")}),(0,_.jsx)(i.ZT,{children:null!=e&&e.has_expeditor_app_enabled?t("Enabled"):t("Disabled")})]})})})})})};function ht(){var e,t,a;const{t:r}=(0,i.$G)(),{can:o}=(0,s.useContext)(i.Il),c=(0,n.UO)(),d=o(l.g3.NETWORK.CAN_GET_HOTELS),{data:u,isLoading:h,isError:m}=V({id:c.id,enabled:!!c.id});return h?(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsx)(i.Od,{className:"ml-10",parts:["header"]}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","labelField-7"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["title","divider","filterTable"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2"]})}),(0,_.jsx)("br",{}),(0,_.jsx)(i.Zb,{children:(0,_.jsx)(i.Od,{parts:["cardHeaderAction","divider","text-2"]})})]}):m?((0,i.hi)(r("Error fetching",{entity:"hub"}),{type:"error"}),null):(0,_.jsxs)(i.rj,{gutter:0,children:[(0,_.jsxs)("div",{className:"ui-flex between v-center mb-30 pl-30 py-10",children:[(0,_.jsxs)("div",{className:"ui-flex v-center",children:[(0,_.jsx)(i.ZT,{h2:!0,children:null==u||null==(e=u.payload)?void 0:e.name}),(0,_.jsx)(i.Ct,{leftIcon:"Circle",iconSize:5,size:"small",className:T()({"network-inactive-badge":!(null!=u&&null!=(t=u.payload)&&t.active)},"ml-30"),children:null!=u&&null!=(a=u.payload)&&a.active?r("Active"):r("Inactive")})]}),(0,_.jsx)(dt,{hub:null==u?void 0:u.payload,onChange:void 0})]}),(0,_.jsx)(Ue,{hub:u&&u.payload}),d&&(0,_.jsx)(Fe,{hub:u&&u.payload}),(0,_.jsx)(Be,{hub:u&&u.payload}),(0,_.jsx)(ut,{hub:u&&u.payload})]})}const mt=()=>(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/list",children:(0,_.jsx)(He,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/create",children:(0,_.jsx)(Ge,{})}),(0,_.jsx)(n.AW,{exact:!0,path:["/network/hub/edit/:id","/network/hub/edit/next-mv-settings/:id","/network/hub/edit/expeditor-settings/:id"],children:(0,_.jsx)(Pe,{})}),(0,_.jsx)(n.AW,{exact:!0,path:"/network/hub/view/:id",children:(0,_.jsx)(ht,{})})]});var xt=a(80948),vt=a.n(xt),pt={};pt.styleTagTransform=st(),pt.setAttributes=qe(),pt.insert=Je().bind(null,"head"),pt.domAPI=Ke(),pt.insertStyleElement=tt();Ve()(vt(),pt);vt()&&vt().locals&&vt().locals;const jt={en:{translation:{"City List":"City List","Hotel List":"Hotel List","Create New City":"Create New City","City created successfully":"City created successfully","City updated successfully":"City updated successfully","City update failed":"City update failed","City create failed":"City create failed","City General Information":"City General Information","City Name":"City Name","City Name*":"City Name*","City deleted successfuly":"City deleted successfuly","Enter city name":"Enter city name","Time Zone":"Time Zone","Time Zone Label":"Time Zone*","Edit Timezone":"Edit Timezone","Save Changes":"Save Changes","Select time zone":"Select time zone","Select country":"Select country",Save:"Save",Cancel:"Cancel","Edit General Information":"Edit General Information",Country:"Country",Delete:"Delete","Assigned Hubs":"Assigned Hubs","Bulk Reassign":"Bulk Reassign","Assign Individually":"Assign Individually","Hub Name":"Hub Name","Hub updated successfully":"Hub updated successfully","Hub created successfully":"Hub created successfully","Hub update failed":"Hub update failed","Hub create failed":"Hub create failed","Hub deleted successfuly":"Hub deleted successfuly","Hub status updated successfully":"Hub status updated successfully","Hotels Associated":"Hotels Associated","Hotel updated successfully":"Hotel updated successfully","Hotel created successfully":"Hotel created successfully","Hotel update failed":"Hotel update failed","Hotel create failed":"Hotel create failed","Hotel deleted successfuly":"Hotel deleted successfuly",Status:"Status",Active:"Active",Inactive:"Inactive","Add New User +":"Add New User +","General Information":"General Information","hotel_editor.activities.description":"","Set Activities":"Set Activities","hotel_editor.activities.save":"","Car Service":"Car Service","Next Move":"Next Move is","hotel_editor.menu_app_scheduled orders.description":"This toggle allows guests to place preorders through butler menu","hotel_editor.menu_app.web_active":"This toggle when enabled shows the menu for this hotel on butlermenu. If disabled, this hotel is only available for use through OMS.","hotel_editor.menu.description":"Malesuada nsectetur tristique duis at. Pulvinar facilisi at faucibus vulputate. Ornare ac at aliquam est dolor arcu viverra magna. Enim sollicitudin interdum et at.","hotel_editor.general_information_contact_information.description":"Malesuada nsectetur tristique duis at. Pulvinar facilisi at faucibus vulputate. Ornare ac at aliquam est dolor arcu viverra magna. Enim sollicitudin interdum et at.","hotel_editor.general_information.description":"Malesuada interdum tortor ac consectetur tristique duis at. Pulvinar facilisi at faucibus vulputate.","hotel_editor.vouchers_app.description":"This toggle turns on the voucher banner on Butler menu and makes it possible to create voucher programs for this client","hotel_editor.activities_app.description":"This toggle turns the activity offering on and off for this hotel. If activities are turned on, the guest will be able to book activities in the area through our partner providers","hotel_editor.payment_settings.description":"Payment toggle is on.","hotel_editor.car_service.description":"This toggle turns the car service offering on and off for this hotel. If it is toggled on, the user\n      will see the destinations available for the related hub on orderbutler.com. If off, the user will not\n      see the car service offering at all","hotel_view.contact_infromation":"","hotel_view.general_information":"","hotel_view.vouchers_app_description":"","hotel_view.activities_app_description":"","hotel_view.car_service_app_description":"","hotel_view.payment_app_description":"","hotel_view.menu_app_description":"","hub_editor.nextmv.description":"This toggle turns next move service for this hub.","hub_editor.expeditor-enabled.description":"This toggle turns expeditor enabled service for this hub.","hotel_editor.shuttle_app.enabled":"Set Car Service","hub_editor.next_move_app.enabled":"Set Next Move Service","hub_editor.expeditor_enabled_app.enabled":"Set Expeditor Enabled Service",associated_hotels:"There are {{this_hub}} hotels associated with the {{this_hub_name}}. Please select hub to reassign them to:","Edit Contact Information":"Edit Contact Information","Select Customer Success Manager":"Select Customer Success Manager*","Contact Person*":"Contact Person*","Contact Person":"Contact Person","Contact Number*":"Contact Number*","Web URL ID":"Web URL ID","Delivery Instructions*":"Delivery Instructions","GPS Coordinates":"GPS Coordinates",Longitude:"Longitude","Longitude*":"Longitude*",Latitude:"Latitude","Latitude*":"Latitude*",Coordinates:"Enter coordinates","Enter hotel name":"Enter hotel name","Hotel Name*":"Hotel Name*","Hotel Formal Name":"Hotel Formal Name","Hotel Formal Name*":"Hotel Formal Name*","Address Town*":"Address Town*","Address Street*":"Address Street*","Address Number*":"Address Number*","Enter address number":"Enter address number","Enter address town":"Enter address town","Address 2":"Address 2","Enter the second address":"Enter the second address","Zip Code*":"Zip Code*","Enter Zip Code":"Enter Zip Code","State*":"State*",State:"State","Select state":"Select state","Country*":"Country*","Pick country":"Pick country","Create_Room Number Count":"Room Number Count*","Delivery Notes":"Delivery Notes","Hotel Code*":"Hotel Code*","Select Hub*":"Select Hub*","Select Hub":"Select Hub","Hubs Associated":"Hubs Associated","Menu*":"Menu*",Menu:"Menu","Allow scheduled orders":"Allow scheduled orders","Payment Preferences":"Payment Preferences","Payments with credit card":"Payments with credit card","Charge to room":"Charge to room",Vouchers:"Vouchers","Create New Hotel":"Create New Hotel","Hotel General Information":"Hotel General Information","Room numbers(CSV)":"Room numbers(CSV)","Enter address street":"Enter address street","Pick City":"Pick City","Enter room number count":"Enter room number count","hotel_editor.csv_file_link.help_text":"Upload each room number in the hotel","Contact Information":"Contact Information","Customer Success Manager*":"Customer Success Manager*","Select user":"Select user","Enter name":"Enter name","Hotel Contact Number*":"Hotel Contact Number*","Enter number":"Enter number","Enter email address(es)":"Enter email address(es)","Add multiple emails with a comma":"Add multiple emails with a comma","Network Relationships":"Network Relationships","Select hub":"Select hub",Search:"Search...",Manage:"Manage","Create New":"Create","Hotel Name":"Hotel Name",City:"City",Hub:"Hub",Activities:"Activities",Edit:"Edit","Activities are":"Activities are",Enabled:"Enabled",Disabled:"Disabled","Car Service is":"Car Service is","Customer Success Manager":"Customer Success Manager","Hotel Contact Number":"Hotel Contact Number","Invoice Email address(es)":"Invoice Email Address(es)","Address 1":"Address 1","ZIP Code":"ZIP Code","Room Number Count":"Room Number Count","Hotel Code":"Hotel Code","Hotel Status":"Hotel Status","Hotel status updated successfully":"Hotel status updated successfully","Deactivate Hotel":"Deactivate Hotel","Activate Hotel":"Activate Hotel","Make Hotel Visible to Guest View":"Make Hotel Visible to Guest View","Web Id":"Web Id","Assigned Menu":"Assigned Menu","Web Code":"Web Code","Web Phone":"Web Phone","Scheduled Orders":"Scheduled Orders",Yes:"Yes",No:"No","Credit Cards":"Credit Cards",Payments:"Payments","Room Charge":"Room Charge","Delete Hotel":"Delete Hotel","Hub Address":"Hub Address","Please fill out the Hub's full address":"Please fill out the Hub's full address","Enter the second line of the address ex. Fl, Apt etc. (optional)":"Enter the second line of the address ex. Fl, Apt etc. (optional)","Pick your city":"Pick your city","City*":"City*","city_editor.description":"",city_timezone_title:"Time Zone","city_timezone_title*":"Time Zone*","city_editor_timezone.description":"","Enter hub name":"Enter hub name","Enter contact email":"Enter contact email","Enter contact number":"Enter contact number","Delete Hub":"Delete Hub","Edit Tax":"Edit Tax","Tax %*":"Tax %*","Enter Tax %":"Enter Tax %","Create New Hub":"Create New Hub","Edit Hub":"Edit Hub","Hub General Information":"Hub General Information","hub_editor.description":"Please fill out the hub's general information in the\n      section below. Each hub name should be unique and the\n      contact information kept up to date in case we need to\n      reach someone at the hub","Hub Name*":"Hub Name*","Contact Email":"Contact Email","Contact Email*":"Contact Email*","Tax Rate":"Tax Rate","hub_editor.tax_rate_helper_text":"Please enter the tax rate for the hub and all its\n      affiliated hotels. This tax rate will be applied to all\n      items sold out of this hub unless the hotel it is serving\n      is tax exempt","table.data.no_data":"No Data!","table.data.no_data_found":"No data found!","table.data.no_search_result_found":"No Search Results!","table.data.no_search_result_found_try_again":"No results found. Please try again!","Save Assignment & Delete Hub":"Save Assignment & Delete Hub",Address:"Address","Hub Address 1":"Hub Address 1","Hub City":"Hub City","Assigned Hotels":"Assigned Hotels","Operating Hours":"Operating Hours","hub_manage.assigned_hotels.helper_text":"This is a list of hotels that are associated with this hub. All\n      orders placed for this list of hotels are prepped out of this hub.",Email:"Email","Contact Number":"Contact Number","Save Assignment & Deactivate Hub":"Save Assignment & Deactivate Hub","Deactivate Hub":"Deactivate Hub","Activate Hub":"Activate Hub",NextMV:"NextMV","Disable Nextmv":"Disable Nextmv","Enable Nextmv":"Enable Nextmv","hub_manage.reassign_hotels.message":"Deactivate Hub {{hub_name}}: Reassign Hotels and Users","hub_manage.reassign_hotels.delete.message":"Delete Hub {{hub_name}}: Reassign Hotels and Users","Loading...":"Loading...","There are no hubs":"There is no hub to reassign a hotel","Hub Tax Rate %":"Hub Tax Rate %","GPS Coordinates*":"GPS Coordinates*","Edit Menu":"Edit Menu","Pick your country":"Pick your country","Enter ZIP Code":"Enter ZIP Code","ZIP Code*":"ZIP Code*","Hub List":"Hub List","Are you sure you want to leave this page?":"Are you sure you want to leave this page?","ui_sdk.smart_component.leave_page_alert":"Hey there! It looks like you\u2019re in the middle of writing something and you\n      haven\u2019t saved all of your content.","Save before you go!":"Save before you go!",Stay:"Stay",Leave:"Leave","Edit City":"Edit City","Network Apps":"Network Apps","All Apps":"All Apps","Delivery Instructions":"Delivery Instructions","Web Code*":"Web Code*","Web Id*":"Web Id*","User First Name":"User First Name","User Email":"User Email","User Last Name":"User Last Name","Are you sure you want to delete this":"Are you sure you want to delete this","Deactivate hotel description":"Are you sure you want to deactivate hotel","Activate hotel description":"Are you sure you want to activate hotel","Delete associated city":"You can not delete this city because other entities are dependent on the resource",Error:"Error",type_validation_to_continue:'Type: "{{validation}}" to continue',delete_entity_used_on:"This {{entity}} is currently used on",delete_confirm:"Are you sure you want to delete this",Expeditor:"Expeditor","Expeditor is":"Expeditor is","Tax Exempt":"Tax Exempt",PMS:"PMS","PMS Enabled":"PMS Enabled","You have no permissions to create a city":"You have no permissions to create a city","You have no permissions to update cities":"You have no permissions to update cities","Error fetching entity":"Error fetching {{entity}}"}}};(0,i.Dm)(jt);const gt=({history:e})=>{const{setNavigation:t}=(0,s.useContext)(i.Il),{can:a}=(0,s.useContext)(i.Il),o=a(l.g3.NETWORK.CAN_GET_CITIES),c=a(l.g3.NETWORK.CAN_GET_HUBS),d=a(l.g3.NETWORK.CAN_GET_HOTELS);return(0,s.useEffect)((()=>{null==t||t(l.pH.NETWORK,[{name:"City",path:"/network/city/list",permission:!!o},{name:"Hub",path:"/network/hub/list",permission:!!c},{name:"Hotel",path:"/network/hotel/list",permission:!!d}])}),[o,c,d]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.ql,{children:(0,_.jsx)("title",{children:"Butler Platform - Network"})}),(0,_.jsx)(n.F0,{history:e,children:(0,_.jsx)(n.rs,{children:(0,_.jsx)(n.AW,{children:(0,_.jsxs)(n.rs,{children:[(0,_.jsx)(n.AW,{exact:!0,path:"/network",children:(0,_.jsx)(n.l_,{to:"/network/city/list"})}),(0,_.jsx)(n.AW,{path:"/network/city",children:(0,_.jsx)(z,{})}),(0,_.jsx)(n.AW,{path:"/network/hotel",children:(0,_.jsx)(Ze,{})}),(0,_.jsx)(n.AW,{path:"/network/hub",children:(0,_.jsx)(mt,{})})]})})})})]})}},80948:e=>{e.exports=[[e.id,".network-container{display:flex;flex-direction:column;height:100%;width:100%}.network-container .network-content+.network-content{margin-top:10px}.network-content{width:100%;flex:1}.network-content>.ui-row{margin-top:0}.toolbar{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:20px 30px}.ui-row+.ui-row{margin-top:0}.form-bottom-action{display:flex;flex-direction:row;align-items:center;justify-content:flex-end}.form-bottom-action>.ui-btn+.ui-btn{margin-left:10px}.network-sidebar-wrapper .ui-btn+.ui-btn{margin-top:10px}.network-three-dots-title{max-width:147px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.network-link-no-underline{text-decoration:none !important;cursor:pointer}.network-action-dropdown{width:160px}.network-no-permissions{flex:1}.network-inactive-badge{background-color:var(--theme-dangerLighter, #faebea);color:var(--theme-danger, #D3514E)}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixZQUFZLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxxREFBcUQsZUFBZSxDQUFDLGlCQUFpQixVQUFVLENBQUMsTUFBTSxDQUFDLHlCQUF5QixZQUFZLENBQUMsU0FBUyxZQUFZLENBQUMsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsNkJBQTZCLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLFlBQVksQ0FBQyxvQkFBb0IsWUFBWSxDQUFDLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDLHdCQUF3QixDQUFDLG9DQUFvQyxnQkFBZ0IsQ0FBQyx5Q0FBeUMsZUFBZSxDQUFDLDBCQUEwQixlQUFlLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLHNCQUFzQixDQUFDLDJCQUEyQiwrQkFBK0IsQ0FBQyxjQUFjLENBQUMseUJBQXlCLFdBQVcsQ0FBQyx3QkFBd0IsTUFBTSxDQUFDLHdCQUF3QixvREFBb0QsQ0FBQyxrQ0FBa0MiLCJmaWxlIjoic3R5bGVzLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmV0d29yay1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5uZXR3b3JrLWNvbnRhaW5lciAubmV0d29yay1jb250ZW50Ky5uZXR3b3JrLWNvbnRlbnR7bWFyZ2luLXRvcDoxMHB4fS5uZXR3b3JrLWNvbnRlbnR7d2lkdGg6MTAwJTtmbGV4OjF9Lm5ldHdvcmstY29udGVudD4udWktcm93e21hcmdpbi10b3A6MH0udG9vbGJhcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nOjIwcHggMzBweH0udWktcm93Ky51aS1yb3d7bWFyZ2luLXRvcDowfS5mb3JtLWJvdHRvbS1hY3Rpb257ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kfS5mb3JtLWJvdHRvbS1hY3Rpb24+LnVpLWJ0bisudWktYnRue21hcmdpbi1sZWZ0OjEwcHh9Lm5ldHdvcmstc2lkZWJhci13cmFwcGVyIC51aS1idG4rLnVpLWJ0bnttYXJnaW4tdG9wOjEwcHh9Lm5ldHdvcmstdGhyZWUtZG90cy10aXRsZXttYXgtd2lkdGg6MTQ3cHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5uZXR3b3JrLWxpbmstbm8tdW5kZXJsaW5le3RleHQtZGVjb3JhdGlvbjpub25lICFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXJ9Lm5ldHdvcmstYWN0aW9uLWRyb3Bkb3due3dpZHRoOjE2MHB4fS5uZXR3b3JrLW5vLXBlcm1pc3Npb25ze2ZsZXg6MX0ubmV0d29yay1pbmFjdGl2ZS1iYWRnZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXRoZW1lLWRhbmdlckxpZ2h0ZXIsICNmYWViZWEpO2NvbG9yOnZhcigtLXRoZW1lLWRhbmdlciwgI0QzNTE0RSl9Il19 */","",""]]},95130:e=>{e.exports=[[e.id,".desc-label{margin:20px 0}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxhQUFhIiwiZmlsZSI6ImluZGV4LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGVzYy1sYWJlbHttYXJnaW46MjBweCAwfSJdfQ== */","",""]]},90286:function(e,t){var a,s,n;s=[],a=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},a=!t.document&&!!t.postMessage,s=a&&/blob:/i.test((t.location||{}).protocol),n={},i=0,l={parse:function(a,s){var r=(s=s||{}).dynamicTyping||!1;if(y(r)&&(s.dynamicTypingFunction=r,r={}),s.dynamicTyping=r,s.transform=!!y(s.transform)&&s.transform,s.worker&&l.WORKERS_SUPPORTED){var o=function(){if(!l.WORKERS_SUPPORTED)return!1;var a,s,r=(a=t.URL||t.webkitURL||null,s=e.toString(),l.BLOB_URL||(l.BLOB_URL=a.createObjectURL(new Blob(["(",s,")();"],{type:"text/javascript"})))),o=new t.Worker(r);return o.onmessage=p,o.id=i++,n[o.id]=o}();return o.userStep=s.step,o.userChunk=s.chunk,o.userComplete=s.complete,o.userError=s.error,s.step=y(s.step),s.chunk=y(s.chunk),s.complete=y(s.complete),s.error=y(s.error),delete s.worker,void o.postMessage({input:a,config:s,workerId:o.id})}var m=null;return l.NODE_STREAM_INPUT,"string"==typeof a?m=s.download?new c(s):new u(s):!0===a.readable&&y(a.read)&&y(a.on)?m=new h(s):(t.File&&a instanceof File||a instanceof Object)&&(m=new d(s)),m.stream(a)},unparse:function(e,t){var a=!1,s=!0,n=",",i="\r\n",r='"',o=r+r,c=!1,d=null,u=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(n=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(a=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(r=t.quoteChar),"boolean"==typeof t.header&&(s=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+r),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(u=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(x(r),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return m(null,e,c);if("object"==typeof e[0])return m(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),m(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function m(e,t,a){var l="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=Array.isArray(e)&&0<e.length,o=!Array.isArray(t[0]);if(r&&s){for(var c=0;c<e.length;c++)0<c&&(l+=n),l+=v(e[c],c);0<t.length&&(l+=i)}for(var d=0;d<t.length;d++){var u=r?e.length:t[d].length,h=!1,m=r?0===Object.keys(t[d]).length:0===t[d].length;if(a&&!r&&(h="greedy"===a?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===a&&r){for(var x=[],p=0;p<u;p++){var j=o?e[p]:p;x.push(t[d][j])}h=""===x.join("").trim()}if(!h){for(var g=0;g<u;g++){0<g&&!m&&(l+=n);var b=r&&o?e[g]:g;l+=v(t[d][b],g)}d<t.length-1&&(!a||0<u&&!m)&&(l+=i)}}return l}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var s=!1;u&&"string"==typeof e&&u.test(e)&&(e="'"+e,s=!0);var i=e.toString().replace(h,o);return(s=s||!0===a||"function"==typeof a&&a(e,t)||Array.isArray(a)&&a[t]||function(e,t){for(var a=0;a<t.length;a++)if(-1<e.indexOf(t[a]))return!0;return!1}(i,l.BAD_DELIMITERS)||-1<i.indexOf(n)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?r+i+r:i}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!t.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=v,l.ParserHandle=m,l.NetworkStreamer=c,l.FileStreamer=d,l.StringStreamer=u,l.ReadableStreamStreamer=h,t.jQuery){var r=t.jQuery;r.fn.parse=function(e){var a=e.config||{},s=[];return this.each((function(e){if("INPUT"!==r(this).prop("tagName").toUpperCase()||"file"!==r(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)s.push({file:this.files[n],inputElem:this,instanceConfig:r.extend({},a)})})),n(),this;function n(){if(0!==s.length){var t,a,n,o,c=s[0];if(y(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return t="AbortError",a=c.file,n=c.inputElem,o=d.reason,void(y(e.error)&&e.error({name:t},a,n,o));if("skip"===d.action)return void i();"object"==typeof d.config&&(c.instanceConfig=r.extend(c.instanceConfig,d.config))}else if("skip"===d)return void i()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){y(u)&&u(e,c.file,c.inputElem),i()},l.parse(c.file,c.instanceConfig)}else y(e.complete)&&e.complete()}function i(){s.splice(0,1),n()}}}function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,a){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var r=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=r.meta.cursor;this._finished||(this._partialLine=i.substring(o-this._baseIndex),this._baseIndex=o),r&&r.data&&(this._rowCount+=r.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)t.postMessage({results:r,workerId:l.WORKER_ID,finished:c});else if(y(this._config.chunk)&&!a){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!c||!y(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):s&&this._config.error&&t.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),a||(t.onload=f(this._chunkLoaded,this),t.onerror=f(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var s in e)t.setRequestHeader(s,e[s])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+n)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}a&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var a=t.statusText||e;this._sendError(new Error(a))}}function d(e){var t,a;(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var s="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,a=e.slice||e.webkitSlice||e.mozSlice,s?((t=new FileReader).onload=f(this._chunkLoaded,this),t.onerror=f(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);e=a.call(e,this._start,n)}var i=t.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,a=this._config.chunkSize;return a?(e=t.substring(0,a),t=t.substring(a)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){o.call(this,e=e||{});var t=[],a=!0,s=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):a=!0},this._streamData=f((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),a&&(a=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=f((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=f((function(){this._streamCleanUp(),s=!0,this._streamData("")}),this),this._streamCleanUp=f((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(e){var t,a,s,n=Math.pow(2,53),i=-n,r=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,o=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,c=this,d=0,u=0,h=!1,m=!1,p=[],j={data:[],errors:[],meta:{}};if(y(e.step)){var g=e.step;e.step=function(t){if(j=t,N())_();else{if(_(),0===j.data.length)return;d+=t.data.length,e.preview&&d>e.preview?a.abort():(j.data=j.data[0],g(j,c))}}}function f(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return j&&s&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),s=!1),e.skipEmptyLines&&(j.data=j.data.filter((function(e){return!f(e)}))),N()&&function(){if(j)if(Array.isArray(j.data[0])){for(var t=0;N()&&t<j.data.length;t++)j.data[t].forEach(a);j.data.splice(0,1)}else j.data.forEach(a);function a(t,a){y(e.transformHeader)&&(t=e.transformHeader(t,a)),p.push(t)}}(),function(){if(!j||!e.header&&!e.dynamicTyping&&!e.transform)return j;function t(t,a){var s,n=e.header?{}:[];for(s=0;s<t.length;s++){var i=s,l=t[s];e.header&&(i=s>=p.length?"__parsed_extra":p[s]),e.transform&&(l=e.transform(l,i)),l=k(i,l),"__parsed_extra"===i?(n[i]=n[i]||[],n[i].push(l)):n[i]=l}return e.header&&(s>p.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+s,u+a):s<p.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+s,u+a)),n}var a=1;return!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(t),a=j.data.length):j.data=t(j.data,0),e.header&&j.meta&&(j.meta.fields=p),u+=a,j}()}function N(){return e.header&&0===p.length}function k(t,a){return s=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[s]&&(e.dynamicTyping[s]=e.dynamicTypingFunction(s)),!0===(e.dynamicTyping[s]||e.dynamicTyping)?"true"===a||"TRUE"===a||"false"!==a&&"FALSE"!==a&&(function(e){if(r.test(e)){var t=parseFloat(e);if(i<t&&t<n)return!0}return!1}(a)?parseFloat(a):o.test(a)?new Date(a):""===a?null:a):a;var s}function C(e,t,a,s){var n={type:e,code:t,message:a};void 0!==s&&(n.row=s),j.errors.push(n)}this.parse=function(n,i,r){var o=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var a=new RegExp(x(t)+"([^]*?)"+x(t),"gm"),s=(e=e.replace(a,"")).split("\r"),n=e.split("\n"),i=1<n.length&&n[0].length<s[0].length;if(1===s.length||i)return"\n";for(var l=0,r=0;r<s.length;r++)"\n"===s[r][0]&&l++;return l>=s.length/2?"\r\n":"\r"}(n,o)),s=!1,e.delimiter)y(e.delimiter)&&(e.delimiter=e.delimiter(n),j.meta.delimiter=e.delimiter);else{var c=function(t,a,s,n,i){var r,o,c,d;i=i||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var u=0;u<i.length;u++){var h=i[u],m=0,x=0,p=0;c=void 0;for(var j=new v({comments:n,delimiter:h,newline:a,preview:10}).parse(t),g=0;g<j.data.length;g++)if(s&&f(j.data[g]))p++;else{var b=j.data[g].length;x+=b,void 0!==c?0<b&&(m+=Math.abs(b-c),c=b):c=b}0<j.data.length&&(x/=j.data.length-p),(void 0===o||m<=o)&&(void 0===d||d<x)&&1.99<x&&(o=m,r=h,d=x)}return{successful:!!(e.delimiter=r),bestDelimiter:r}}(n,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(s=!0,e.delimiter=l.DefaultDelimiter),j.meta.delimiter=e.delimiter}var d=b(e);return e.preview&&e.header&&d.preview++,t=n,a=new v(d),j=a.parse(t,i,r),_(),h?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,a.abort(),t=y(e.chunk)?"":t.substring(a.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,a.abort(),j.meta.aborted=!0,y(e.complete)&&e.complete(j),t=""}}function x(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,a=(e=e||{}).delimiter,s=e.newline,n=e.comments,i=e.step,r=e.preview,o=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof a||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=","),n===a)throw new Error("Comment character same as delimiter");!0===n?n="#":("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var d=0,u=!1;this.parse=function(e,l,h){if("string"!=typeof e)throw new Error("Input must be a string");var m=e.length,v=a.length,p=s.length,j=n.length,g=y(i),b=[],f=[],_=[],N=d=0;if(!e)return z();if(o||!1!==o&&-1===e.indexOf(t)){for(var k=e.split(s),C=0;C<k.length;C++){if(_=k[C],d+=_.length,C!==k.length-1)d+=s.length;else if(h)return z();if(!n||_.substring(0,j)!==n){if(g){if(b=[],O(_.split(a)),M(),u)return z()}else O(_.split(a));if(r&&r<=C)return b=b.slice(0,r),z(!0)}}return z()}for(var w=e.indexOf(a,d),A=e.indexOf(s,d),E=new RegExp(x(c)+x(t),"g"),I=e.indexOf(t,d);;)if(e[d]!==t)if(n&&0===_.length&&e.substring(d,d+j)===n){if(-1===A)return z();d=A+p,A=e.indexOf(s,d),w=e.indexOf(a,d)}else if(-1!==w&&(w<A||-1===A))_.push(e.substring(d,w)),d=w+v,w=e.indexOf(a,d);else{if(-1===A)break;if(_.push(e.substring(d,A)),R(A+p),g&&(M(),u))return z();if(r&&b.length>=r)return z(!0)}else for(I=d,d++;;){if(-1===(I=e.indexOf(t,I+1)))return h||f.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:d}),H();if(I===m-1)return H(e.substring(d,I).replace(E,t));if(t!==c||e[I+1]!==c){if(t===c||0===I||e[I-1]!==c){-1!==w&&w<I+1&&(w=e.indexOf(a,I+1)),-1!==A&&A<I+1&&(A=e.indexOf(s,I+1));var T=Z(-1===A?w:Math.min(w,A));if(e.substr(I+1+T,v)===a){_.push(e.substring(d,I).replace(E,t)),e[d=I+1+T+v]!==t&&(I=e.indexOf(t,d)),w=e.indexOf(a,d),A=e.indexOf(s,d);break}var S=Z(A);if(e.substring(I+1+S,I+1+S+p)===s){if(_.push(e.substring(d,I).replace(E,t)),R(I+1+S+p),w=e.indexOf(a,d),I=e.indexOf(t,d),g&&(M(),u))return z();if(r&&b.length>=r)return z(!0);break}f.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:d}),I++}}else I++}return H();function O(e){b.push(e),N=d}function Z(t){var a=0;if(-1!==t){var s=e.substring(I+1,t);s&&""===s.trim()&&(a=s.length)}return a}function H(t){return h||(void 0===t&&(t=e.substring(d)),_.push(t),d=m,O(_),g&&M()),z()}function R(t){d=t,O(_),_=[],A=e.indexOf(s,d)}function z(e){return{data:b,errors:f,meta:{delimiter:a,linebreak:s,aborted:u,truncated:!!e,cursor:N+(l||0)}}}function M(){i(z()),b=[],f=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return d}}function p(e){var t=e.data,a=n[t.workerId],s=!1;if(t.error)a.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){s=!0,j(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(y(a.userStep)){for(var l=0;l<t.results.data.length&&(a.userStep({data:t.results.data[l],errors:t.results.errors,meta:t.results.meta},i),!s);l++);delete t.results}else y(a.userChunk)&&(a.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!s&&j(t.workerId,t.results)}function j(e,t){var a=n[e];y(a.userComplete)&&a.userComplete(t),a.terminate(),delete n[e]}function g(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var a in e)t[a]=b(e[a]);return t}function f(e,t){return function(){e.apply(t,arguments)}}function y(e){return"function"==typeof e}return s&&(t.onmessage=function(e){var a=e.data;if(void 0===l.WORKER_ID&&a&&(l.WORKER_ID=a.workerId),"string"==typeof a.input)t.postMessage({workerId:l.WORKER_ID,results:l.parse(a.input,a.config),finished:!0});else if(t.File&&a.input instanceof File||a.input instanceof Object){var s=l.parse(a.input,a.config);s&&t.postMessage({workerId:l.WORKER_ID,results:s,finished:!0})}}),(c.prototype=Object.create(o.prototype)).constructor=c,(d.prototype=Object.create(o.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(o.prototype)).constructor=h,l},void 0===(n="function"==typeof a?a.apply(t,s):a)||(e.exports=n)}}]);